{"createdAt":"2021-09-27T17:56:14.112","modifiedAt":"2021-10-06T18:11:56.565","createdBy":"TAS","modifiedBy":"TAS","title":"SE - CAT_2 - Payment List","provider":"SpringBackendServiceProvider","tags":[],"systemTags":["published-as-datasource","RESERVED_DOCUMENT","services-editor"],"name":"SE - CAT_2 - Payment List","type":"services-editor","saved":true,"id":"46448632-5504-73a2-6c82-e376c96c9740","previewId":null,"content":{"definition":{"id":"46448632-5504-73a2-6c82-e376c96c9740","title":"SE - CAT_2 - Payment List","useBaseUrl":true,"publishAsDatasource":true,"serverSideDatasource":true,"dataEntryEnabled":false,"downloadEnabled":false,"expectedResultType":"Table","validated":true,"mandatoryParameters":[],"skipOnEmptyQueryString":false,"includeRawData":false,"emptyParametersToEmptyString":false,"schema":[{"name":"subCategory","type":"string","value":null},{"name":"codAccountInstitution","type":"string","value":null},{"name":"descServiceExt","type":"string","value":null},{"name":"refTransaction","type":"string","value":"LT2021092703619769"},{"name":"forecastPaymentMappingCnt","type":"number","value":1},{"name":"codOrderingInstitution","type":"string","value":null},{"name":"infoOrderingCustomer1","type":"string","value":null},{"name":"id","type":"number","value":577941},{"name":"statementNumber","type":"string","value":null},{"name":"creditAccount","type":"string","value":null},{"name":"transactionReference","type":"string","value":null},{"name":"receiptDate","type":"date","value":null},{"name":"priority","type":"string","value":null},{"name":"typeMessage","type":"string","value":"Confirm of Debit"},{"name":"campoUtente2","type":"string","value":null},{"name":"campoUtente1","type":"string","value":null},{"name":"campoUtente3","type":"string","value":null},{"name":"systemCodeMsg","type":"string","value":"MT900"},{"name":"tmsUpdate","type":"date","value":"2021-09-27 14:31:40"},{"name":"codReceiverAddress","type":"string","value":null},{"name":"sspReferenceId","type":"string","value":null},{"name":"status","type":"string","value":"SETTLED"},{"name":"sendReceInfoList1","type":"string","value":null},{"name":"debitAccount","type":"string","value":null},{"name":"codBicInstructingParParty","type":"string","value":null},{"name":"remittanceInfo1","type":"string","value":null},{"name":"infoBeneficiaryCustomer1","type":"string","value":null},{"name":"codClientOnBehalf","type":"string","value":null},{"name":"codInstitute","type":"string","value":"08094"},{"name":"tmsInsert","type":"string","value":null},{"name":"indMatching","type":"string","value":"Y"},{"name":"currency","type":"string","value":"EUR"},{"name":"codBeneficiaryInstitution","type":"string","value":null},{"name":"debit","type":"number","value":100},{"name":"codBicPart","type":"string","value":"HELADEFF"},{"name":"descCategory","type":"string","value":"Default Category T2"},{"name":"side","type":"string","value":"DEBIT"},{"name":"codUserAuthorization","type":"string","value":null},{"name":"externalSystem","type":"string","value":null},{"name":"indDelayIndicator","type":"string","value":null},{"name":"idEndToEnd","type":"string","value":null},{"name":"descCounterpartCustomer","type":"string","value":null},{"name":"reconciliationStatus","type":"string","value":"COMPLETED"},{"name":"paymentForecastMappingCnt","type":"number","value":1},{"name":"codCategory","type":"string","value":"DFLT"},{"name":"codSubCategory","type":"string","value":null},{"name":"reportMatched","type":"string","value":null},{"name":"codUser","type":"string","value":"TAS"},{"name":"descCustomer","type":"string","value":null},{"name":"idCreditAccount","type":"string","value":null},{"name":"notes","type":"string","value":null},{"name":"timeSettlement","type":"string","value":"14:31:40"},{"name":"sendReceInfoList","type":"string","value":null},{"name":"descSubCategory","type":"string","value":null},{"name":"receiverCorrespondent","type":"string","value":null},{"name":"cancelEnabled","type":"boolean","value":false},{"name":"codIntParticipant","type":"string","value":null},{"name":"source","type":"string","value":"Manual"},{"name":"idCategory","type":"string","value":null},{"name":"codiceServizioK","type":"string","value":"CORR"},{"name":"idDebitAccount","type":"string","value":null},{"name":"accountWithInstitution","type":"string","value":null},{"name":"counterpart","type":"string","value":null},{"name":"longDescriptionMsg","type":"string","value":"Confirm of Debit"},{"name":"codAccountService","type":"string","value":"TestPBA"},{"name":"credit","type":"number","value":0},{"name":"kind","type":"string","value":"transactionmonitorresource#list"},{"name":"codCountry","type":"string","value":"DE"},{"name":"indDebitCredit","type":"string","value":"D"},{"name":"accountOwner","type":"string","value":null},{"name":"idSubCategory","type":"string","value":null},{"name":"codSenderAddress","type":"string","value":null},{"name":"idCoManaged","type":"string","value":null},{"name":"paymentManager","type":"string","value":null},{"name":"indAuthNotesRules","type":"string","value":null},{"name":"typeAccount","type":"string","value":"CORR"},{"name":"codUetr","type":"string","value":null},{"name":"idIntermediaryBank","type":"string","value":null},{"name":"lastUpdateTime","type":"string","value":null},{"name":"sspTimeIndicator","type":"string","value":null},{"name":"systemCodeAndMessageType","type":"string","value":"MT900 Confirm of Debit"},{"name":"senderCorrespondent","type":"string","value":null},{"name":"boReference","type":"string","value":null},{"name":"dataSettlement","type":"date","value":"2021-09-02 00:00:00"},{"name":"authNotes","type":"string","value":null},{"name":"client","type":"string","value":null},{"name":"timeReceipt","type":"string","value":null},{"name":"lastUpdateMsg","type":"string","value":null},{"name":"amount","type":"number","value":100},{"name":"reportId","type":"string","value":null},{"name":"dataFrom","type":"string","value":null},{"name":"codIntCategory","type":"string","value":"AN2118813875983"},{"name":"codIntSubCategory","type":"string","value":null},{"name":"sspStatus","type":"string","value":null},{"name":"dataTo","type":"string","value":null},{"name":"authorizationEnabled","type":"boolean","value":false},{"name":"category","type":"string","value":null},{"name":"fDebitCredit","type":"string","value":"Debit"},{"name":"fStatus","type":"string","value":"Settled"},{"name":"fPriority","type":"string","value":null}],"selectCall":{"method":"Get","enabled":true,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{"datasource":{},"parameter":{},"systemParameter":{},"custom":{"result":{"fields":[null]}}},"expectedResult":null,"syntax":"standard","code":"var myArray = custom('result').items;\n\nvar fDebitCredit = null;\nvar fStatus = null;\nvar fPriority = null;\n\n\nmyArray.map(function(i) {\n  switch(i.indDebitCredit) { \n    case 'D': {\n        fDebitCredit = 'Debit'\n      break;\n    }\n     \n    case 'A': {\n        fDebitCredit = 'Credit'\n      break;\n    }\n  }\n\n  switch(i.status) { \n    case 'TO_BE_AUTHORISED': {\n        fStatus = 'To be authorized'\n      break;\n    }\n     \n    case 'SETTLED': {\n        fStatus = 'Settled'\n      break;\n    }\n\n    case 'AUTOHRISED': {\n        fStatus = 'Authorized'\n      break;\n    }\n\n    case 'UNBLOCKED': {\n        fStatus = 'Unblocked'\n      break;\n    }\n\n    case 'BLOCKED': {\n        fStatus = 'Blocked'\n      break;\n    }\n\n    case 'SENT': {\n        fStatus = 'Sent'\n      break;\n    }\n\n    case 'QUEUED': {\n        fStatus = 'Queued'\n      break;\n    }\n\n    case 'CANCELED': {\n        fStatus = 'Canceled'\n      break;\n    }\n\n    case 'REJECTED': {\n        fStatus = 'Rejected'\n      break;\n    }\n  }\n\n  switch(i.priority) { \n    case 'N': {\n        fPriority = 'No'\n      break;\n    }\n     \n    case 'Y': {\n        fPriority = 'Yes'\n      break;\n    }\n  }\n  \n  i.fDebitCredit = fDebitCredit\n  i.fStatus = fStatus\n  i.fPriority = fPriority\n  \n  return i;\n})\n\nreturn myArray"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{"datasource":{},"parameter":{"inBusinessDate":{"id":"285736e9-8433-25e8-c767-c3d939b477fc"},"take":{"id":"313374c4-b2d1-798e-1cba-eab0fdadd14f"},"skip":{"id":"e933b44f-856a-cffa-71ed-40579ceacd75"},"currency":{"id":"69d8cd63-169c-d662-48bf-6c51e768fb2d"},"settlementDateFrom":{"id":"5153dab3-283e-839c-9d0a-459df6c063b8"},"settlementDateTo":{"id":"7b25f7e8-ebe5-32a7-6776-291d3c4ce811"},"idAccount":{"id":"c6324d51-1578-c643-a98d-4e7c959862cd"},"codBicPart":{"id":"72448ce8-1fc4-971f-38b9-fac5f15011a3"},"side":{"id":"72ce9b20-c629-b04b-e4a8-9cb7e91c85ed"},"codCategory":{"id":"51ee7ca1-8578-7acc-9153-65cd7339ead5"},"aggregateStatus":{"id":"1606b967-9cbb-1e53-c0a0-80cdd71dcbe6"},"counterpart":{"id":"b78241c6-4889-8923-23c4-d1df607fdbb1"},"status":{"id":"3975a215-7427-312a-0d52-19c3ed54ae76"},"codSubCategory":{"id":"3e8a88d3-931b-3f42-86d0-bc5bd486779d"}},"systemParameter":{},"custom":{"page":{"fields":[null]},"pageSize":{"fields":[null]}}},"expectedResult":null,"syntax":"web-template","code":"foundation/rs/transactionmonitor/cashoperation?inBusinessDate=<%= parameter('inBusinessDate') %>&take=<%= parameter('take') %>&page=<%= custom('page') %>&pageSize=<%= custom('pageSize') %>&skip=<%= parameter('skip') %>&currency=<%= parameter('currency') %>&settlementDateFrom=<%= format(parameter('settlementDateFrom'), 'yyyy-MM-dd') %>&settlementDateTo=<%= format(parameter('settlementDateTo'), 'yyyy-MM-dd') %>&idAccount=<%= parameter('idAccount') %>&codBicPart=<%= parameter('codBicPart') %>&side=<%= parameter('side') %>&codCategory=<%= parameter('codCategory') %>&aggregateStatus=<%= parameter('aggregateStatus') %>&counterpart=<%= parameter('counterpart') %>&status=<%= parameter('status') %>&codSubCategory=<%= parameter('codSubCategory') %>"},"type":"Select"},"insertCall":{"method":"Put","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Insert"},"updateCall":{"method":"Post","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Update"},"deleteCall":{"method":"Delete","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Delete"},"createCall":{"method":"Get","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Create"},"serverSideOptions":{"id":"2ab68182-63cc-196b-b1b2-a35d7235bc3f","columns":[],"rows":[],"originalRows":[],"dataEntryRunTypes":[],"datasourceType":"Standard","autoRefreshEnabled":false,"autoRefreshSystem":false,"autoRefreshTime":60,"refreshOnLoad":false,"remoteSort":"","page":1,"isBusy":false,"isFiltered":false,"isServerSide":false,"hasError":false,"splitItems":[],"rowCount":100,"pageSize":10,"tags":[],"parameters":[]},"pageExp":{"schema":{"datasource":{},"parameter":{},"systemParameter":{},"custom":{"result":{"fields":[null]}}},"expectedResult":null,"syntax":"standard","code":"(custom('result')||{}).page||1;"},"pageSizeExp":{"schema":{"datasource":{},"parameter":{},"systemParameter":{},"custom":{"pageSize":{"fields":[null]}}},"expectedResult":null,"syntax":"standard","code":"custom('pageSize')||10"},"recordCountExp":{"schema":{"datasource":{},"parameter":{},"systemParameter":{},"custom":{"result":{"fields":[null]}}},"expectedResult":null,"syntax":"standard","code":"(custom('result')||{}).total||0;"},"sortingExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"downloadExp":{"schema":{},"expectedResult":null,"syntax":"web-template"},"resultTypes":"Table","baseUrlId":"Aquarius Services"},"parameters":[{"id":"285736e9-8433-25e8-c767-c3d939b477fc","name":"inBusinessDate","description":"","systemType":"","defaultValue":"false","lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","value":"false","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[]},{"id":"313374c4-b2d1-798e-1cba-eab0fdadd14f","name":"take","description":"","systemType":"","defaultValue":"10","lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","placeholder":"","value":10,"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[]},{"id":"5d65586e-5428-701c-dfba-d9be53cacf1e","name":"page","description":"","systemType":"","defaultValue":1,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","placeholder":"","value":1,"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[]},{"id":"5474ac26-7496-a7a4-568c-efd8d4eebb92","name":"pageSize","description":"","systemType":"","defaultValue":10,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","placeholder":"","value":10,"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[]},{"id":"e933b44f-856a-cffa-71ed-40579ceacd75","name":"skip","description":"","systemType":"","defaultValue":0,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","placeholder":"","value":0,"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[]},{"id":"69d8cd63-169c-d662-48bf-6c51e768fb2d","name":"currency","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","value":"EUR","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[]},{"id":"5153dab3-283e-839c-9d0a-459df6c063b8","name":"settlementDateFrom","description":"","systemType":"","defaultValue":"1970-01-01T00:00:00.000Z","lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"date","placeholder":"","value":"1969-12-31T23:00:00.000Z","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[]},{"id":"7b25f7e8-ebe5-32a7-6776-291d3c4ce811","name":"settlementDateTo","description":"","systemType":"","defaultValue":"1970-01-01T00:00:00.000Z","lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"date","placeholder":"","value":"2021-09-26T22:00:00.000Z","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[]},{"id":"c6324d51-1578-c643-a98d-4e7c959862cd","name":"idAccount","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[]},{"id":"72448ce8-1fc4-971f-38b9-fac5f15011a3","name":"codBicPart","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[]},{"id":"72ce9b20-c629-b04b-e4a8-9cb7e91c85ed","name":"side","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[]},{"id":"51ee7ca1-8578-7acc-9153-65cd7339ead5","name":"codCategory","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[]},{"id":"1606b967-9cbb-1e53-c0a0-80cdd71dcbe6","name":"aggregateStatus","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[]},{"id":"b78241c6-4889-8923-23c4-d1df607fdbb1","name":"counterpart","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[]},{"id":"3975a215-7427-312a-0d52-19c3ed54ae76","name":"status","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[]},{"id":"3e8a88d3-931b-3f42-86d0-bc5bd486779d","name":"codSubCategory","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[]}]}}