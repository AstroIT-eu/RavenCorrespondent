{"createdAt":"2021-07-01T13:03:39.985","modifiedAt":"2021-07-04T12:22:04.164","createdBy":"TAS","modifiedBy":"TAS","title":"DD - CAT_2 - Operations by Category","provider":"SpringBackendServiceProvider","tags":[],"systemTags":[],"name":"DD - CAT_2 - Operations by Category","type":"data-document","saved":true,"id":"5c7e398b-0751-f756-c25a-85649e47b212","previewId":null,"content":{"id":"5c7e398b-0751-f756-c25a-85649e47b212","title":"DD - CAT_2 - Operations by Category","parentProviders":[{"title":"SE - CAT_2 - Operations by Category","id":"cbfba75a-daef-454f-ad0e-77663cb65cb5","provider":"ServicesEditorBackendServiceProvider","bindings":[{"id":"6e529311-1e83-63ef-aa7f-ab8e11a6cde5","target":"71c4611b-9beb-6e26-78e1-87a5beb555c8","name":"bicParticipant","source":{"schema":{"datasource":{},"parameter":{"bicParticipant":{"id":"ca358917-cb52-4f34-9de3-a141dab3b466"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('bicParticipant')"}},{"id":"b5805862-b407-e7d6-cdba-de7dd2a9b248","target":"b1c3c2e1-d39a-af86-285d-b0a2ca387612","name":"codCurrency","source":{"schema":{"datasource":{},"parameter":{"codCurrency":{"id":"506cddb0-667b-400d-968d-484f5b06d85e"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('codCurrency')"}},{"id":"ad6f25ff-4440-f49c-7060-7557dfbb3e12","target":"c5946bb2-6bd4-ca8e-8eb2-944496034b32","name":"codIntCategory","source":{"schema":{"datasource":{},"parameter":{"codIntCategory":{"id":"e6421c49-025f-40a9-b927-c238d5fe0fbf"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('codIntCategory')"}},{"id":"1ee36c9f-ac09-e4ad-d5e4-b4765d4b3a2e","target":"a913b82b-ccd5-8786-95a0-51d9df6477e0","name":"codService","source":{"schema":{"datasource":{},"parameter":{"codService":{"id":"473e3c9a-f8c8-4f07-90a4-75e2d48dab8c"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('codService')"}},{"id":"5e3b534b-dcda-1078-f915-cd36ba4e27cc","target":"0f5d2b81-7726-9cef-6d77-24a63ec3c1f3","name":"counterpart","source":{"schema":{"datasource":{},"parameter":{"counterpart":{"id":"3ee72ee6-fd47-482b-acb8-6e11f38f5f07"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('counterpart')"}},{"id":"68a371c1-e50d-f7b5-ae3d-ddc326591bfc","target":"d4bb1e25-c343-2bdd-5ebd-ddf4bfd81d9e","name":"dateFrom","source":{"schema":{"datasource":{},"parameter":{"dateFrom":{"id":"91549cf8-9cf9-45df-931c-7b71c81077f7"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('dateFrom')"}},{"id":"8c4d6761-7c69-ca95-74a5-e6d0359bed99","target":"ee9c4fb4-4a4c-518a-d254-e0e52b8e775d","name":"dateTo","source":{"schema":{"datasource":{},"parameter":{"dateTo":{"id":"496cb79f-f923-477b-9a08-fe9ee6c84a96"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('dateTo')"}},{"id":"f55e072d-a6e5-c3c3-34c6-d7b8c58ec0c5","target":"d7154a38-626c-b8c3-9b55-9884e7ac9c93","name":"idAccount","source":{"schema":{"datasource":{},"parameter":{"idAccount":{"id":"b3e397b0-983b-47ee-9c84-2918233a47db"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('idAccount')"}},{"id":"09ce1cde-4a7c-7789-1a9a-a15da030326a","target":"6869fad4-237b-80a2-1e87-d6bb852dc4b2","name":"codIntSubCategory","source":{"schema":{"datasource":{},"parameter":{"codIntSubCategory":{"id":"58bf64b4-e012-46ca-80d5-f962fb592a93"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('codIntSubCategory')"}}]},{"title":"SE - CAT_2 - Subcategories by Category","id":"bed44305-19e2-4486-9007-47801f7b6e8f","provider":"ServicesEditorBackendServiceProvider","bindings":[{"id":"b88ded36-03f7-a5b8-63ff-d62234d5eecd","target":"bb6cf7c1-ad16-2cfd-f3d1-3ace3df344ca","name":"codCategory","source":{"schema":{"datasource":{},"parameter":{"codCategory":{"id":"a77db1e5-21ca-490a-8922-cbb168610c91"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('codCategory')"}},{"id":"d8be9e41-d341-b6b2-8d79-39484ce913ad","target":"da7cc1a2-59cf-71a5-8444-bd45da7527b9","name":"codService","source":{"schema":{"datasource":{},"parameter":{"codService":{"id":"473e3c9a-f8c8-4f07-90a4-75e2d48dab8c"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('codService')"}},{"id":"c4852ce4-e621-7f1e-2c23-9871614745cc","target":"b21d1eb6-3929-4934-dad9-8c99dc342142","name":"codCurrency","source":{"schema":{"datasource":{},"parameter":{"codCurrency":{"id":"506cddb0-667b-400d-968d-484f5b06d85e"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('codCurrency')"}},{"id":"9034c16c-4da3-8cc1-4d5d-90aed15ed139","target":"adec513c-be16-6a7e-495a-796d22a561ab","name":"bicParticipant","source":{"schema":{"datasource":{},"parameter":{"bicParticipant":{"id":"ca358917-cb52-4f34-9de3-a141dab3b466"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('bicParticipant')"}},{"id":"591b6e64-1b88-5771-16ad-3abbc6fda1d9","target":"44de3638-e651-7199-cb31-67101e04190b","name":"counterpart","source":{"schema":{"datasource":{},"parameter":{"counterpart":{"id":"3ee72ee6-fd47-482b-acb8-6e11f38f5f07"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('counterpart')"}},{"id":"7e2ddace-7319-a639-1c31-0d6179aac64c","target":"51716519-fca9-6816-3190-d130b850713c","name":"dateFrom","source":{"schema":{"datasource":{},"parameter":{"dateFrom":{"id":"91549cf8-9cf9-45df-931c-7b71c81077f7"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('dateFrom')"}},{"id":"0e94c2d5-bc52-5c94-7c45-473523e88abf","target":"60b49e39-91cb-6e9c-253f-72085c0cd9e1","name":"dateTo","source":{"schema":{"datasource":{},"parameter":{"dateTo":{"id":"496cb79f-f923-477b-9a08-fe9ee6c84a96"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('dateTo')"}},{"id":"3b19e4b0-8f78-6a97-da74-7e675e7ccb29","target":"71be86e6-a8e5-d081-3923-ee998cbc55e5","name":"idAccount","source":{"schema":{"datasource":{},"parameter":{"idAccount":{"id":"b3e397b0-983b-47ee-9c84-2918233a47db"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('idAccount')"}},{"id":"aa7543de-829e-92b4-8cc2-395c8f1c60e1","target":"bd977af0-6d2c-b496-a7d4-76948b2b4699","name":"codIntSubCategory","source":{"schema":{"datasource":{},"parameter":{"codIntSubCategory":{"id":"58bf64b4-e012-46ca-80d5-f962fb592a93"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"standard","code":"parameter('codIntSubCategory')"}}]}],"parts":[{"id":"966a9f57-ab6a-14d4-9d9e-9e266a4c2f00","name":"Union Cat - SubCat","expression":{"schema":{"datasource":{},"parameter":{},"systemParameter":{},"custom":{"SE - CAT_2 - Operations by Category":{"fields":[null]},"SE - CAT_2 - Subcategories by Category":{"fields":[null]}}},"expectedResult":null,"syntax":"standard","code":"var catObject = custom('SE - CAT_2 - Operations by Category').payments\nvar subObject = custom('SE - CAT_2 - Subcategories by Category').payments\n\n\nvar arrObject = [];\n\nvar tmp = {\n    \"unprocessedDebitCounter\": null,\n    \"pendingDebitCounter\": null,\n    \"pendingAmountCredit\": null,\n    \"forecastCreditCounter\": null,\n    \"kind\": null,\n    \"settledAmountDebit\": null,\n    \"unprocessedCreditCounter\": null,\n    \"unprocessedAmountCredit\": null,\n    \"codIntCategory\": null,\n    \"settledAmountCredit\": null,\n    \"pendingAmountDebit\": null,\n    \"subCategoryDescription\": null,\n    \"idCategory\": null,\n    \"pendingCreditCounter\": null,\n    \"categoryDescription\": null,\n    \"forecastAmountCredit\": null,\n    \"settledDebitCounter\": null,\n    \"forecastAmountDebit\": null,\n    \"codCategory\": null,\n    \"codSubCategory\": null,\n    \"codAccountService\": null,\n    \"unprocessedAmountDebit\": null,\n    \"settledCreditCounter\": null,\n    \"forecastDebitCounter\": null,\n  \t\"category\": null,\n  \t\"taskId\": null,\n    \"taskParentId\": null,\n}\n\nvar i;\n\nfor(i = 0; i < catObject.length; i++) {\n    var c = {\n        \"unprocessedDebitCounter\": null,\n        \"pendingDebitCounter\": null,\n        \"pendingAmountCredit\": null,\n        \"forecastCreditCounter\": null,\n        \"kind\": null,\n        \"settledAmountDebit\": null,\n        \"unprocessedCreditCounter\": null,\n        \"unprocessedAmountCredit\": null,\n        \"codIntCategory\": null,\n        \"settledAmountCredit\": null,\n        \"pendingAmountDebit\": null,\n        \"subCategoryDescription\": null,\n        \"idCategory\": null,\n        \"pendingCreditCounter\": null,\n        \"categoryDescription\": null,\n        \"forecastAmountCredit\": null,\n        \"settledDebitCounter\": null,\n        \"forecastAmountDebit\": null,\n        \"codCategory\": null,\n        \"codSubCategory\": null,\n        \"codAccountService\": null,\n        \"unprocessedAmountDebit\": null,\n        \"settledCreditCounter\": null,\n        \"forecastDebitCounter\": null,\n        \"category\": null,\n        \"taskId\": null,\n        \"taskParentId\": null,\n    }\n\n    \n    c.unprocessedDebitCounter= catObject[i].unprocessedDebitCounter\n    c.pendingDebitCounter= catObject[i].pendingDebitCounter\n    c.pendingAmountCredit= catObject[i].pendingAmountCredit\n    c.forecastCreditCounter= catObject[i].forecastCreditCounter\n    c.kind= catObject[i].kind\n    c.settledAmountDebit= catObject[i].settledAmountDebit\n    c.unprocessedCreditCounter= catObject[i].unprocessedCreditCounter\n    c.unprocessedAmountCredit= catObject[i].unprocessedAmountCredit\n    c.codIntCategory= catObject[i].codIntCategory\n    c.settledAmountCredit= catObject[i].settledAmountCredit\n    c.pendingAmountDebit= catObject[i].pendingAmountDebit\n    c.subCategoryDescription= catObject[i].subCategoryDescription\n    c.idCategory= catObject[i].idCategory\n    c.pendingCreditCounter= catObject[i].pendingCreditCounter\n    c.categoryDescription= catObject[i].categoryDescription\n    c.forecastAmountCredit= catObject[i].forecastAmountCredit\n    c.settledDebitCounter= catObject[i].settledDebitCounter\n    c.forecastAmountDebit= catObject[i].forecastAmountDebit\n    c.codCategory= catObject[i].codCategory\n    c.codSubCategory= catObject[i].codSubCategory\n    c.codAccountService= catObject[i].codAccountService\n    c.unprocessedAmountDebit= catObject[i].unprocessedAmountDebit\n    c.settledCreditCounter= catObject[i].settledCreditCounter\n    c.forecastDebitCounter= catObject[i].forecastDebitCounter\n    c.category= catObject[i].category\n    c.taskId= catObject[i].idCategory\n\n    arrObject.push(c);\n\n    var j\n\n    for(j = 0; j < subObject.length; ++j) {\n        var f = {\n            \"unprocessedDebitCounter\": null,\n            \"pendingDebitCounter\": null,\n            \"pendingAmountCredit\": null,\n            \"forecastCreditCounter\": null,\n            \"kind\": null,\n            \"settledAmountDebit\": null,\n            \"unprocessedCreditCounter\": null,\n            \"unprocessedAmountCredit\": null,\n            \"codIntCategory\": null,\n            \"settledAmountCredit\": null,\n            \"pendingAmountDebit\": null,\n            \"subCategoryDescription\": null,\n            \"idCategory\": null,\n            \"pendingCreditCounter\": null,\n            \"categoryDescription\": null,\n            \"forecastAmountCredit\": null,\n            \"settledDebitCounter\": null,\n            \"forecastAmountDebit\": null,\n            \"codCategory\": null,\n            \"codSubCategory\": null,\n            \"codAccountService\": null,\n            \"unprocessedAmountDebit\": null,\n            \"settledCreditCounter\": null,\n            \"forecastDebitCounter\": null,\n            \"category\": null,\n            \"taskId\": null,\n            \"taskParentId\": null,\n        }\n\n       \t\n        f.unprocessedDebitCounter= subObject[j].unprocessedDebitCounter\n        f.pendingDebitCounter= subObject[j].pendingDebitCounter\n        f.pendingAmountCredit= subObject[j].pendingAmountCredit\n        f.forecastCreditCounter= subObject[j].forecastCreditCounter\n        f.kind= subObject[j].kind\n        f.settledAmountDebit= subObject[j].settledAmountDebit\n        f.unprocessedCreditCounter= subObject[j].unprocessedCreditCounter\n        f.unprocessedAmountCredit= subObject[j].unprocessedAmountCredit\n        f.codIntCategory= subObject[j].codIntCategory\n        f.settledAmountCredit= subObject[j].settledAmountCredit\n        f.pendingAmountDebit= subObject[j].pendingAmountDebit\n        f.subCategoryDescription= subObject[j].subCategoryDescription\n        f.idCategory= subObject[j].idCategory\n        f.pendingCreditCounter= subObject[j].pendingCreditCounter\n        f.categoryDescription= subObject[j].categoryDescription\n        f.forecastAmountCredit= subObject[j].forecastAmountCredit\n        f.settledDebitCounter= subObject[j].settledDebitCounter\n        f.forecastAmountDebit= subObject[j].forecastAmountDebit\n        f.codCategory= subObject[j].codCategory\n        f.codSubCategory= subObject[j].codSubCategory\n        f.codAccountService= subObject[j].codAccountService\n        f.unprocessedAmountDebit= subObject[j].unprocessedAmountDebit\n        f.settledCreditCounter= subObject[j].settledCreditCounter\n        f.forecastDebitCounter= subObject[j].forecastDebitCounter\n        f.category= null\n        f.taskId= 0\n        f.taskParentId= catObject[i].idCategory\n\n        arrObject.push(f)\n    }\n}\n\n\nvar y\n\nfor (y = 0; y < arrObject.length; y++) {\n  if (arrObject[y].category === null){\n    arrObject[y].taskId = y\n  }\n}\n\nreturn arrObject;"},"schema":[{"name":"unprocessedDebitCounter","type":"number"},{"name":"pendingDebitCounter","type":"number"},{"name":"pendingAmountCredit","type":"number"},{"name":"forecastCreditCounter","type":"number"},{"name":"kind","type":"string"},{"name":"settledAmountDebit","type":"number"},{"name":"unprocessedCreditCounter","type":"number"},{"name":"unprocessedAmountCredit","type":"number"},{"name":"codIntCategory","type":"string"},{"name":"settledAmountCredit","type":"number"},{"name":"pendingAmountDebit","type":"number"},{"name":"subCategoryDescription","type":"any"},{"name":"idCategory","type":"number"},{"name":"pendingCreditCounter","type":"number"},{"name":"categoryDescription","type":"string"},{"name":"forecastAmountCredit","type":"number"},{"name":"settledDebitCounter","type":"number"},{"name":"forecastAmountDebit","type":"number"},{"name":"codCategory","type":"string"},{"name":"codSubCategory","type":"any"},{"name":"codAccountService","type":"any"},{"name":"unprocessedAmountDebit","type":"number"},{"name":"settledCreditCounter","type":"number"},{"name":"forecastDebitCounter","type":"number"},{"name":"category","type":"string"},{"name":"taskId","type":"number"},{"name":"taskParentId","type":"any"}],"values":[]}],"parameters":[{"id":"ca358917-cb52-4f34-9de3-a141dab3b466","name":"bicParticipant","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"tags":[],"value":""},{"id":"506cddb0-667b-400d-968d-484f5b06d85e","name":"codCurrency","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"tags":[],"value":"EUR"},{"id":"e6421c49-025f-40a9-b927-c238d5fe0fbf","name":"codIntCategory","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"tags":[],"value":""},{"id":"473e3c9a-f8c8-4f07-90a4-75e2d48dab8c","name":"codService","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"tags":[],"value":"CORR"},{"id":"3ee72ee6-fd47-482b-acb8-6e11f38f5f07","name":"counterpart","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"tags":[],"value":""},{"id":"91549cf8-9cf9-45df-931c-7b71c81077f7","name":"dateFrom","description":"","systemType":"","defaultValue":"1970-01-01T00:00:00.000Z","lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"date","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"tags":[],"value":"2015-12-31T23:00:00.000Z"},{"id":"496cb79f-f923-477b-9a08-fe9ee6c84a96","name":"dateTo","description":"","systemType":"","defaultValue":"1970-01-01T00:00:00.000Z","lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"date","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"tags":[],"value":"2021-05-29T22:00:00.000Z"},{"id":"b3e397b0-983b-47ee-9c84-2918233a47db","name":"idAccount","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"tags":[],"value":null},{"id":"58bf64b4-e012-46ca-80d5-f962fb592a93","name":"codIntSubCategory","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"tags":[],"value":""}]}}