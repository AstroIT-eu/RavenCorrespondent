{"createdAt":"2021-04-26T14:10:19.767","modifiedAt":"2021-08-05T09:55:16.089","createdBy":"tas","modifiedBy":"TAS","title":"SE - Payment List - Payment Detail","provider":"SpringBackendServiceProvider","tags":["Raven service"],"systemTags":["services-editor","published-as-datasource","RESERVED_DOCUMENT"],"name":"SE - Payment List - Payment Detail","type":"services-editor","saved":true,"id":"dc8ac72e-3d0b-4947-9312-8fbf8f05a3c4","previewId":null,"content":{"definition":{"id":"dc8ac72e-3d0b-4947-9312-8fbf8f05a3c4","title":"SE - Payment List - Payment Detail","useBaseUrl":true,"publishAsDatasource":true,"serverSideDatasource":false,"dataEntryEnabled":false,"downloadEnabled":false,"expectedResultType":"Table","validated":false,"mandatoryParameters":[],"skipOnEmptyQueryString":false,"includeRawData":false,"emptyParametersToEmptyString":false,"schema":[{"name":"idAccount","type":"number","value":1562},{"name":"subCategory","type":"string","value":null},{"name":"notes","type":"string","value":null},{"name":"codAccountInstitution","type":"string","value":null},{"name":"codManualReleaseBo","type":"string","value":"NO_MSG_TO_REL"},{"name":"source","type":"string","value":"MANUAL"},{"name":"refTransaction","type":"string","value":"3567797"},{"name":"indAccountable","type":"string","value":null},{"name":"tmsManualUpdate","type":"string","value":null},{"name":"forecastPaymentMappingCnt","type":"number","value":0},{"name":"indManualUpdate","type":"string","value":null},{"name":"messageType","type":"string","value":"MT202 Liquidity Credit Transfer"},{"name":"codOrderingInstitution","type":"string","value":null},{"name":"counterpart","type":"string","value":"WWWBDEFF"},{"name":"dtaValue","type":"string","value":"2017-06-15 00:00:00"},{"name":"codAccountService","type":"string","value":"64045-JPY"},{"name":"id","type":"number","value":577081},{"name":"credit","type":"string","value":null},{"name":"kind","type":"string","value":"monitorcashcbresource"},{"name":"statementMatched","type":"string","value":null},{"name":"tmsLastUpdateMsg","type":"string","value":"2019-01-03 00:00:00"},{"name":"msgSystemCode","type":"string","value":"MT202"},{"name":"priority","type":"string","value":null},{"name":"typeInternalAccount","type":"string","value":"CT"},{"name":"codReceiverCorrespondent","type":"string","value":null},{"name":"monitorCash","type":"object","value":{"idAccount":1562,"country":"LU","subCategory":null,"notes":null,"ultimateCreditor":null,"ncbresponsable":"CEDELULL","codAccountInstitution":null,"codManualReleaseBo":"NO_MSG_TO_REL","errorCode":null,"source":"MANUAL","codInternal":"3567797","instructingAgent":null,"refTransaction":"3567797","endToEndId":"3567797","indAccountable":null,"forecastPaymentMappingCnt":0,"messageType":"MT202 Liquidity Credit Transfer","codOrderingInstitution":null,"codAuthorizationProfile":null,"counterpart":"WWWBDEFF","dtaValue":"2017-06-15 00:00:00","codAccountService":"64045-JPY","id":577081,"credit":0,"creationDateTime":null,"creditorAgent":null,"matchingIndicator":"N","statementMatched":null,"campoUtente8":null,"campoUtente7":null,"tmsLastUpdateMsg":"2019-01-03 00:00:00","msgSystemCode":"MT202","priority":null,"typeAuthorization":"A","typeInternalAccount":"CT","ultimateDebtor":null,"codReceiverCorrespondent":null,"campoUtente2":null,"campoUtente1":null,"campoUtente4":null,"campoUtente3":null,"campoUtente6":null,"tmsUpdate":"2021-04-23 16:01:38","campoUtente5":null,"indAuthNotesRules":null,"codUetr":null,"creditor":null,"idIntermediaryBank":null,"initiatingParty":null,"status":"AUTHORISED","indStandByPosition":"N","tmsMsgCreation":null,"errorDescription":null,"debtorAgent":null,"boReference":null,"codSenderCorrespondent":null,"dtaAuthorization":"2019-01-03 00:00:00","codClientOnBehalf":null,"codErrorByMsg":null,"debtor":null,"tmsExecution":null,"dtaSettlement":"2017-06-15 00:00:00","tmsInsert":"2019-01-03 17:07:29","authNotes":null,"currency":"JPY","codBeneficiaryInstitution":null,"debit":9999999999,"codBicPart":"WWWBDEFF","amount":9999999999,"side":"D","instructedAgent":null,"delayIndicator":null,"counterpartsCustomer":null,"idCorporateActionEvent":null,"codIntCategory":"AN1712700130536","codUserAuthorization":"TAS","counterpartClient":null,"transactionType":null,"codIntSubCategory":null,"indCompliance":"N","reconciliationStatus":"NO","paymentForecastMappingCnt":0,"codAccountLe":"7320551003","statementId":null,"sourceName":null,"subtypeAccount":"NOSTRO","category":"CORR FI Transfer","indBalanceUpdate":"N","holdIndicator":null,"codUser":"TAS","sendingRule":null,"customer":null}},{"name":"tmsUpdate","type":"string","value":"2021-04-23 16:01:38"},{"name":"codUetr","type":"string","value":null},{"name":"idIntermediaryBank","type":"string","value":null},{"name":"status","type":"string","value":"AUTHORISED"},{"name":"indStandByPosition","type":"string","value":"N"},{"name":"customTypeOperation","type":"string","value":"Banca - Principal Maturity Payment"},{"name":"boReference","type":"string","value":null},{"name":"codSenderCorrespondent","type":"string","value":null},{"name":"codClientOnBehalf","type":"string","value":null},{"name":"codErrorByMsg","type":"string","value":null},{"name":"tmsExecution","type":"string","value":null},{"name":"tmsInsert","type":"string","value":"2019-01-03 17:07:29"},{"name":"dtaSettlement","type":"string","value":"2017-06-15 00:00:00"},{"name":"authNotes","type":"string","value":null},{"name":"currency","type":"string","value":"JPY"},{"name":"codBeneficiaryInstitution","type":"string","value":null},{"name":"debit","type":"number","value":9999999999},{"name":"codBicPart","type":"string","value":"WWWBDEFF"},{"name":"direction","type":"string","value":"R"},{"name":"side","type":"string","value":"Debit"},{"name":"amount","type":"number","value":9999999999},{"name":"delayIndicator","type":"string","value":null},{"name":"counterpartsCustomer","type":"string","value":null},{"name":"idCorporateActionEvent","type":"string","value":null},{"name":"codIntCategory","type":"string","value":"AN1712700130536"},{"name":"indCompliance","type":"string","value":"N"},{"name":"paymentForecastMappingCnt","type":"number","value":0},{"name":"reconciliationStatus","type":"string","value":"NO"},{"name":"codAccountLe","type":"string","value":"7320551003"},{"name":"statementId","type":"string","value":null},{"name":"category","type":"string","value":"CORR FI Transfer"},{"name":"codIntSubcategory","type":"string","value":null},{"name":"subtypeAccount","type":"string","value":"NOSTRO"},{"name":"indBalanceUpdate","type":"string","value":"N"},{"name":"sendingRule","type":"string","value":null},{"name":"codUser","type":"string","value":"TAS"},{"name":"customer","type":"string","value":null},{"name":"idPayment","type":"number","value":577318},{"name":"settleFrom","type":"string","value":"2019-07-31 00:00:00"},{"name":"settleTo","type":"string","value":"2019-07-31 00:00:00"},{"name":"statusTranslated","type":"string","value":""},{"name":"reconcTranslated","type":"string","value":"No"}],"selectCall":{"method":"Get","enabled":true,"serverSide":false,"responseType":"json","serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{"datasource":{},"parameter":{},"systemParameter":{},"custom":{"result":{"fields":[null]}}},"expectedResult":null,"syntax":"standard","code":"var result = toArray(custom('result'));\nvar statusTranslation = '';\nvar reconcTranslation = '';\n\nreturn result.map(function(i) {\n  i.idPayment = i.id;\n  i.settleFrom = i.dtaSettlement\n  i.settleTo = i.dtaSettlement\n  \n  var origStatus= i.status;\n\n  switch(origStatus) {\n      case 'TO_BE_AUTHORISED': {\n          statusTranslation = 'To be Authorised';\n          break;    \n      }\n      case 'SETTLED': {\n          statusTranslation = 'Settled';\n          break;    \n      }\n      case 'AUTHORISED': {\n          statusTranslation = 'Authorised';\n          break;    \n      }\n      case 'UNBLOCKED': {\n          statusTranslation = 'Unblocked';\n          break;    \n      }\n      case 'BLOCKED': {\n          statusTranslation = 'Blocked';\n          break;    \n      }\n      case 'SENT': {\n          statusTranslation = 'Sent';\n          break;    \n      }\n      case 'CANCELED': {\n          statusTranslation = 'Canceled';\n          break;    \n      }\n      case 'QUEUED': {\n          statusTranslation = 'Queued';\n          break;    \n      }\n      case 'REJECTED': {\n          statusTranslation = 'Rejected';\n          break;    \n      }\n  }\n  \n  var origReconciliation = i.reconciliationStatus;\n  \n  switch(origReconciliation) {\n      case 'NO':  { reconcTranslation = 'No'; break; }\n      case 'COMPLETED': { reconcTranslation = 'Completed'; break; }\n      case 'PARTIAL': { reconcTranslation = 'Partial'; break; }\n  }\n  \n  \n  i.statusTranslated = statusTranslation;\n  i.reconcTranslated = reconcTranslation;\n  \n  return i;\n})"},"headers":[],"address":{"schema":{"datasource":{},"parameter":{"idTemp":{"id":"c587da4d-935e-de65-5132-88121f43b9af"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"web-template","code":"foundation/rs/monitorcashcb/<%= parameter('idTemp') %>"},"type":"Select","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"insertCall":{"method":"Put","enabled":false,"serverSide":false,"responseType":"json","serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Insert","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"updateCall":{"method":"Post","enabled":false,"serverSide":false,"responseType":"json","serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Update","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"deleteCall":{"method":"Delete","enabled":false,"serverSide":false,"responseType":"json","serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Delete","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"createCall":{"method":"Get","enabled":false,"serverSide":false,"responseType":"json","serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Create","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"serverSideOptions":{"id":"502752b1-85f9-2167-721c-154434a0dcb6","columns":[],"rows":[],"originalRows":[],"dataEntryRunTypes":[],"datasourceType":"Standard","autoRefreshEnabled":false,"autoRefreshSystem":false,"autoRefreshTime":60,"refreshOnLoad":false,"remoteSort":"","page":1,"isBusy":false,"isFiltered":false,"isServerSide":false,"hasError":false,"splitItems":[],"rowCount":100,"pageSize":10,"parameters":[],"tags":[]},"pageExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"pageSizeExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"recordCountExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"sortingExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"baseUrlId":"Aquarius Services","downloadExp":{"schema":{},"expectedResult":null,"syntax":"web-template"},"resultTypes":"Table"},"parameters":[{"id":"c587da4d-935e-de65-5132-88121f43b9af","name":"id","description":"","systemType":"","defaultValue":"","lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"value":"577318","tags":[]}]}}