{"createdAt":"2021-09-23T10:21:48.136","modifiedAt":"2021-11-03T10:43:24.457","createdBy":"TAS","modifiedBy":"TAS","title":"SE - Forecast Monitor By CC - CounterValue","provider":"SpringBackendServiceProvider","tags":[],"systemTags":["services-editor","published-as-datasource","RESERVED_DOCUMENT"],"name":"SE - Forecast Monitor By CC - CounterValue","type":"services-editor","saved":true,"id":"46b727bc-4edc-6476-b94d-79ed650c121e","previewId":null,"content":{"definition":{"id":"46b727bc-4edc-6476-b94d-79ed650c121e","title":"SE - Forecast Monitor By CC - CounterValue","useBaseUrl":true,"publishAsDatasource":true,"serverSideDatasource":true,"dataEntryEnabled":false,"downloadEnabled":false,"expectedResultType":"Table","validated":true,"mandatoryParameters":[],"skipOnEmptyQueryString":false,"includeRawData":false,"emptyParametersToEmptyString":false,"schema":[{"name":"amount","type":"number","value":"10000"},{"name":"balance","type":"string","value":"Current balance"},{"name":"exchange","type":"number","value":"12541.07"},{"name":"currencyDest","type":"string","value":"GBP"},{"name":"currency","type":"string","value":"EUR"}],"selectCall":{"method":"Get","enabled":true,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{"datasource":{},"parameter":{},"systemParameter":{},"custom":{"result":{"fields":[null]}}},"expectedResult":null,"syntax":"standard","code":"var myArray = custom('result');\n\nmyArray.balances.map(function(i) { \n    i['currencyDest'] = myArray.currencyDest;\n    i['currency'] = myArray.currency;\n    i.amount = parseFloat(i.amount);\n    i.exchange = parseFloat(i.exchange);\n\n\n\n    return i;\n})\n\nreturn myArray.balances;"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{"datasource":{},"parameter":{"currencyDestCounterValue":{"id":"74821d8a-d63c-bf7f-8867-785396c7c115"},"currentCounterValue":{"id":"d693998d-3ec5-7fca-afb7-1a8ad8d0124e"},"projectedCounterValue":{"id":"451cd511-d639-bcac-4b1f-a64d567a252d"},"openingCounterValue":{"id":"6cc0a8ce-2acb-7596-4c48-85a7683e48f6"},"businessDateCounterValue":{"id":"614b87f6-7e22-28e9-f534-7b8586261ac5"}},"systemParameter":{},"custom":{"remoteSort":{"fields":[null]}}},"expectedResult":null,"syntax":"web-template","code":"foundation/rs/forecastoverview/countervalue?currencyDest=<%= parameter('currencyDestCounterValue') %>&current=<%= parameter('currentCounterValue') %>&projected=<%= parameter('projectedCounterValue') %>&opening=<%= parameter('openingCounterValue') %><%=(parameter('businessDateCounterValue'))?'&businessDate='+format(new Date(parameter('businessDateCounterValue')),'yyyy-MM-dd HH:mm:ss'):''%>&<%= encodeAquariusSortParams(custom('remoteSort')) %>"},"type":"Select"},"insertCall":{"method":"Put","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Insert"},"updateCall":{"method":"Post","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Update"},"deleteCall":{"method":"Delete","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Delete"},"createCall":{"method":"Get","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Create"},"serverSideOptions":{"id":"70cbe170-929d-f55d-b891-4b3668d12449","columns":[],"rows":[],"originalRows":[],"dataEntryRunTypes":[],"datasourceType":"Standard","autoRefreshEnabled":false,"autoRefreshSystem":false,"autoRefreshTime":60,"refreshOnLoad":false,"remoteSort":"","page":1,"isBusy":false,"isFiltered":false,"isServerSide":false,"hasError":false,"splitItems":[],"rowCount":100,"pageSize":10,"tags":[],"parameters":[]},"pageExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"pageSizeExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"recordCountExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"sortingExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"downloadExp":{"schema":{},"expectedResult":null,"syntax":"web-template"},"resultTypes":"Table","baseUrlId":"Aquarius Services"},"parameters":[{"id":"614b87f6-7e22-28e9-f534-7b8586261ac5","name":"businessDateCounterValue","description":"","systemType":"","defaultValue":"1970-01-01T00:00:00.000Z","lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"date","placeholder":"","value":"2021-10-31T23:00:00.000Z","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[],"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}},{"id":"74821d8a-d63c-bf7f-8867-785396c7c115","name":"currencyDestCounterValue","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","value":"EUR","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[],"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}},{"id":"d693998d-3ec5-7fca-afb7-1a8ad8d0124e","name":"currentCounterValue","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","placeholder":"","value":10000,"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[],"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}},{"id":"451cd511-d639-bcac-4b1f-a64d567a252d","name":"projectedCounterValue","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","placeholder":"","value":10000,"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[],"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}},{"id":"6cc0a8ce-2acb-7596-4c48-85a7683e48f6","name":"openingCounterValue","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","placeholder":"","value":10000,"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[],"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}},{"id":"90760a71-cad5-0741-9d3c-71210849c319","name":"new parameter","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[]},{"id":"14637bce-43ec-15a3-aeb0-181ddb267d97","name":"new parameter","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[]},{"id":"c14ec3d0-e9c4-bd24-8534-561b3bbac329","name":"new parameter","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[]},{"id":"306abe51-db6b-3d6a-e3d7-d46a22286f13","name":"new parameter","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[]},{"id":"e6a40a22-5739-a4a1-73c7-26e4990da46a","name":"new parameter","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[]},{"id":"ba21c2e4-a8b2-5e7c-d315-ec67b5e11c94","name":"new parameter","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[]},{"id":"8975936c-aae1-9246-bbdc-23699a6b6a6b","name":"new parameter","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[]},{"id":"33deede8-edf2-edee-ab4b-6f11807ebb6c","name":"new parameter","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[]},{"id":"b6eeca76-b6e1-959d-2622-ad4f921eaa93","name":"","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[]}]}}