{"createdAt":"2021-10-08T17:27:20.124","modifiedAt":"2021-10-08T17:50:37.056","createdBy":"TAS","modifiedBy":"TAS","title":"SE - Balance Monitor - Accountd Balance hidden","provider":"SpringBackendServiceProvider","tags":[],"systemTags":["RESERVED_DOCUMENT","published-as-datasource","services-editor"],"name":"SE - Balance Monitor - Accountd Balance hidden","type":"services-editor","saved":true,"id":"99f7b2c5-45d7-778c-0327-93d1422ddb9b","previewId":null,"content":{"definition":{"id":"99f7b2c5-45d7-778c-0327-93d1422ddb9b","title":"SE - Balance Monitor - Accountd Balance hidden","useBaseUrl":true,"publishAsDatasource":true,"serverSideDatasource":false,"dataEntryEnabled":false,"downloadEnabled":false,"expectedResultType":"Table","validated":true,"mandatoryParameters":[],"skipOnEmptyQueryString":false,"includeRawData":false,"emptyParametersToEmptyString":false,"schema":[{"name":"serviceType","type":"string","value":"CORR"},{"name":"idAccount","type":"number","value":1219},{"name":"masterAccount","type":"string","value":null},{"name":"startOfDayBalanceTimestamp","type":"string","value":null},{"name":"toBeSettledPreadvicePayment","type":"number","value":0},{"name":"toBeSettledPayments","type":"number","value":0},{"name":"totalUnmatchedPayments","type":"number","value":248000000},{"name":"error","type":"string","value":"Errore per la riga 0"},{"name":"endOfDayBalance","type":"number","value":0},{"name":"legalEntity","type":"string","value":"PARBITM0XXX"},{"name":"valueBalance","type":"number","value":248000000},{"name":"toBeSettledSI","type":"number","value":0},{"name":"correspondentType","type":"string","value":"NOSTRO"},{"name":"client","type":"string","value":"BAMEITM0XXX"},{"name":"currency","type":"string","value":"CAD"},{"name":"id","type":"number","value":7598560},{"name":"toBeSettledCA","type":"number","value":0},{"name":"bookBalance","type":"number","value":248000000},{"name":"floor","type":"string","value":null},{"name":"ceiling","type":"string","value":null},{"name":"toBeSettledForecastSI","type":"number","value":0},{"name":"systemAccountCode","type":"string","value":"012885300"},{"name":"startOfDayBalance","type":"number","value":0},{"name":"kind","type":"string","value":"aggregatedbalanceresource#list"},{"name":"toBeSettledPreadviceCA","type":"number","value":0},{"name":"currentBalance","type":"number","value":248000000},{"name":"accountOwner","type":"string","value":"10631/BAMEITM0XXX"},{"name":"toBeSettledPreadviceSI","type":"number","value":0},{"name":"projectedBalance","type":"number","value":248000000},{"name":"legalEntityAccountCode","type":"string","value":"70200553"},{"name":"toBeSettledForecastPayment","type":"number","value":0},{"name":"nostroType","type":"string","value":"CLEARER"},{"name":"currentBalanceTimestamp","type":"string","value":"2021-10-08 15:02:34"},{"name":"toBeSettledBalance","type":"number","value":0},{"name":"countervalueBalance","type":"number","value":165886208},{"name":"toBeSettledForecastCA","type":"number","value":0},{"name":"valueBalanceTimestamp","type":"string","value":"2021-10-08 15:02:34"},{"name":"goldProjected","type":"number","value":0},{"name":"endOfDayBalanceTimestamp","type":"string","value":null},{"name":"businessDate","type":"object","value":"2021-10-07T22:00:00.000Z"}],"selectCall":{"method":"Get","enabled":true,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{"datasource":{},"parameter":{"businessDate":{"id":"03a212e6-cba6-c3a8-a63e-f659c81cab8e"}},"systemParameter":{},"custom":{"result":{"fields":[null]}}},"expectedResult":null,"syntax":"standard","code":"//custom('result').items;\nvar x=toArray(custom('result').items);\nconsole.log(\"acc balances:\",x);\nvar toret=[]\nx?.forEach(\n  \t\t\tfunction addme(element){  \n                 console.log(element)\n                 element.businessDate = parameter('businessDate')\n              \t toret.push(element)\n             }\n         );\n\nreturn toret;"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{"datasource":{},"parameter":{"take":{"id":"eda0b134-521a-0f12-51d0-acb051d42217"},"sort[0][field]":{"id":"5cea7867-3b8c-6628-7ad1-bb61da9aead3"},"sort[0][dir]":{"id":"2b2a7d64-4ede-60e6-e8a3-3197bd67918b"},"serviceType":{"id":"de1e2b6d-c9b8-b144-2ab7-03845be04c02"},"nostroAccountType":{"id":"b67982ca-050a-e319-aa7b-edd9f369678d"},"legalEntity":{"id":"da18b3e7-e662-fcd6-6727-77804a613685"},"currency":{"id":"9f958e8a-bd39-2117-b954-43aa2d62a3ca"},"systemAccountCode":{"id":"d46a0d56-dbbf-b2c7-c942-ca0feab5d2c8"},"legalEntityAccount":{"id":"13c95ca4-46e3-1ea6-a314-c5e43aa8c7db"},"accountOwner":{"id":"ae6d49b9-4a43-6680-8723-03d6cfe5ed2a"},"country":{"id":"65c3b47b-64cd-583f-fb05-c52ba1189ebb"},"client":{"id":"3440e8b7-ccfd-e5e0-6620-828b5ca85823"},"businessDate":{"id":"03a212e6-cba6-c3a8-a63e-f659c81cab8e"},"correspondentType":{"id":"12ba936e-a1d3-4c11-4da0-cbd5523eb9c9"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"web-template","code":"corrbanks/rs/accountbalances?take=<%= parameter('take') %>&page=1&pageSize=99999&skip=0&sort%5B0%5D%5Bfield%5D=<%= parameter('sort[0][field]') %>&sort%5B0%5D%5Bdir%5D=<%= parameter('sort[0][dir]') %>&serviceType=<%= parameter('serviceType') %>&nostroAccountType=<%= parameter('nostroAccountType') %>&legalEntity=<%= parameter('legalEntity') %>&currency=<%= parameter('currency') %>&systemAccountCode=<%= parameter('systemAccountCode') %>&legalEntityAccount=<%= parameter('legalEntityAccount') %>&accountOwner=<%= parameter('accountOwner') %>&country=<%= parameter('country') %>&client=<%= parameter('client') %>&businessDate=<%= format(parameter('businessDate'),'yyyy-MM-dd') %><%=(parameter('correspondentType') && parameter('correspondentType').trim().length>0)?'&correspondentType='+encodeURIComponent(parameter('correspondentType')):''%>"},"type":"Select"},"insertCall":{"method":"Put","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Insert"},"updateCall":{"method":"Post","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Update"},"deleteCall":{"method":"Delete","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Delete"},"createCall":{"method":"Get","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Create"},"serverSideOptions":{"id":"42246cfd-9756-94a5-491a-7ad8d89e23b8","columns":[],"rows":[],"originalRows":[],"dataEntryRunTypes":[],"datasourceType":"Standard","autoRefreshEnabled":false,"autoRefreshSystem":false,"autoRefreshTime":60,"refreshOnLoad":false,"remoteSort":"","page":1,"isBusy":false,"isFiltered":false,"isServerSide":false,"hasError":false,"splitItems":[],"rowCount":100,"pageSize":10,"tags":[],"parameters":[]},"pageExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"pageSizeExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"recordCountExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"sortingExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"downloadExp":{"schema":{},"expectedResult":null,"syntax":"web-template"},"resultTypes":"Table","baseUrlId":"Aquarius Services"},"parameters":[{"id":"eda0b134-521a-0f12-51d0-acb051d42217","name":"take","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","value":"5","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"rules":[]},{"id":"66464fe5-aaaa-8e64-5523-be6e42976e60","name":"page","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","value":"1","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"rules":[]},{"id":"d8659213-035e-52ee-d082-aa213f56e4a7","name":"pageSize","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","value":"10","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"rules":[]},{"id":"ab4c78d1-5dc2-cf36-c78e-b05ec305729a","name":"skip","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","value":"0","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"rules":[]},{"id":"5cea7867-3b8c-6628-7ad1-bb61da9aead3","name":"sort[0][field]","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","value":"countervalueBalance","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"rules":[]},{"id":"2b2a7d64-4ede-60e6-e8a3-3197bd67918b","name":"sort[0][dir]","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","value":"desc","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"rules":[]},{"id":"de1e2b6d-c9b8-b144-2ab7-03845be04c02","name":"serviceType","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","value":"CORR","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"rules":[]},{"id":"b67982ca-050a-e319-aa7b-edd9f369678d","name":"nostroAccountType","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"rules":[]},{"id":"da18b3e7-e662-fcd6-6727-77804a613685","name":"legalEntity","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"rules":[]},{"id":"9f958e8a-bd39-2117-b954-43aa2d62a3ca","name":"currency","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","value":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"rules":[]},{"id":"d46a0d56-dbbf-b2c7-c942-ca0feab5d2c8","name":"systemAccountCode","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"rules":[]},{"id":"13c95ca4-46e3-1ea6-a314-c5e43aa8c7db","name":"legalEntityAccount","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"rules":[]},{"id":"ae6d49b9-4a43-6680-8723-03d6cfe5ed2a","name":"accountOwner","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"rules":[]},{"id":"65c3b47b-64cd-583f-fb05-c52ba1189ebb","name":"country","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"rules":[]},{"id":"3440e8b7-ccfd-e5e0-6620-828b5ca85823","name":"client","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"rules":[]},{"id":"03a212e6-cba6-c3a8-a63e-f659c81cab8e","name":"businessDate","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"date","placeholder":"","value":"2021-10-07T22:00:00.000Z","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"rules":[]},{"id":"12ba936e-a1d3-4c11-4da0-cbd5523eb9c9","name":"correspondentType","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"expression":{"schema":{},"expectedResult":null,"syntax":"standard"},"tags":[],"rules":[]}]}}