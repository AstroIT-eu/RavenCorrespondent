{"createdAt":"2021-10-01T15:17:45.280","modifiedAt":"2021-10-19T17:40:34.800","createdBy":"TAS","modifiedBy":"TAS","title":"SE - Balance Monitor - CounterValue ","provider":"SpringBackendServiceProvider","tags":[],"systemTags":["RESERVED_DOCUMENT","services-editor","published-as-datasource"],"name":"SE - Balance Monitor - CounterValue ","type":"services-editor","saved":true,"id":"cc10b7a6-e29a-0786-bb5f-2991063d676c","previewId":null,"content":{"definition":{"id":"cc10b7a6-e29a-0786-bb5f-2991063d676c","title":"SE - Balance Monitor - CounterValue ","useBaseUrl":true,"publishAsDatasource":true,"serverSideDatasource":false,"dataEntryEnabled":false,"downloadEnabled":false,"expectedResultType":"Table","validated":true,"mandatoryParameters":[],"skipOnEmptyQueryString":false,"includeRawData":false,"emptyParametersToEmptyString":false,"schema":[{"name":"amount","type":"number","value":"10000"},{"name":"balance","type":"string","value":"Current balance"},{"name":"exchange","type":"number","value":"12541.07"},{"name":"currencyDest","type":"string","value":"GBP"},{"name":"currency","type":"string","value":"EUR"}],"selectCall":{"method":"Get","enabled":true,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{"datasource":{},"parameter":{},"systemParameter":{},"custom":{"result":{"fields":[null]}}},"expectedResult":null,"syntax":"standard","code":"var myArray = custom('result');\n\nmyArray.balances.map(function(i) { \n    i['currencyDest'] = myArray.currencyDest;\n    i['currency'] = myArray.currency;\n    i.amount = parseFloat(i.amount).toFixed(2);\n    i.exchange = parseFloat(i.exchange).toFixed(2);\n\n    return i;\n})\n\nreturn myArray.balances;"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{"datasource":{},"parameter":{"currencyDest":{"id":"b55ef983-b995-5512-7333-1564c36985d8"},"current":{"id":"ee3877ca-c422-57c3-21b2-d46719efc9e2"},"projected":{"id":"871cd1b4-cbc0-a1c1-6815-f823fd3a7646"},"opening":{"id":"3e1fec6e-3586-d5e9-5aa4-3d8dcfa29a8c"},"endDayBalance":{"id":"fa2730e4-54e3-3471-9101-1f1c14b913f3"},"bookBalance":{"id":"f8e6464c-9a1b-9483-73c7-213995869648"},"businessDate":{"id":"ce4a9c0a-dc73-7778-1ef1-794a621d9c3f"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"web-template","code":"corrbanks/rs/accountbalances/countervalue?currencyDest=<%= parameter('currencyDest') %>&current=<%= parameter('current') %>&projected=<%= parameter('projected') %>&opening=<%= parameter('opening') %>&endDayBalance=<%= parameter('endDayBalance') %>&bookBalance=<%= parameter('bookBalance') %><%=(parameter('businessDate'))?'&businessDate='+format(new Date(parameter('businessDate')),'yyyy-MM-dd HH:mm:ss'):''%>"},"type":"Select"},"insertCall":{"method":"Put","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Insert"},"updateCall":{"method":"Post","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Update"},"deleteCall":{"method":"Delete","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Delete"},"createCall":{"method":"Get","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Create"},"serverSideOptions":{"id":"08d78d79-c7ac-4e48-2cb1-a6a5a04f5f09","columns":[],"rows":[],"originalRows":[],"dataEntryRunTypes":[],"datasourceType":"Standard","autoRefreshEnabled":false,"autoRefreshSystem":false,"autoRefreshTime":60,"refreshOnLoad":false,"remoteSort":"","page":1,"isBusy":false,"isFiltered":false,"isServerSide":false,"hasError":false,"splitItems":[],"rowCount":100,"pageSize":10,"tags":[],"parameters":[]},"pageExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"pageSizeExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"recordCountExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"sortingExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"downloadExp":{"schema":{},"expectedResult":null,"syntax":"web-template"},"resultTypes":"Table","baseUrlId":"Aquarius Services"},"parameters":[{"id":"ce4a9c0a-dc73-7778-1ef1-794a621d9c3f","name":"businessDate","description":"","systemType":"","defaultValue":"1969-12-31T23:00:00.000Z","lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"date","placeholder":"","value":"2021-09-19T22:00:00.000Z","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[],"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}},{"id":"b55ef983-b995-5512-7333-1564c36985d8","name":"currencyDest","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","placeholder":"","value":"GBP","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[],"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}},{"id":"ee3877ca-c422-57c3-21b2-d46719efc9e2","name":"current","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","placeholder":"","value":10000,"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[],"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}},{"id":"871cd1b4-cbc0-a1c1-6815-f823fd3a7646","name":"projected","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","placeholder":"","value":10000,"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[],"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}},{"id":"3e1fec6e-3586-d5e9-5aa4-3d8dcfa29a8c","name":"opening","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","placeholder":"","value":10000,"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[],"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}},{"id":"fa2730e4-54e3-3471-9101-1f1c14b913f3","name":"endDayBalance","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","placeholder":"","value":10000,"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[],"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}},{"id":"f8e6464c-9a1b-9483-73c7-213995869648","name":"bookBalance","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","placeholder":"","value":10000,"lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[],"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}}]}}