{"createdAt":"2021-09-15T13:43:32.862","modifiedAt":"2021-09-16T14:00:26.312","createdBy":"TAS","modifiedBy":"TAS","title":"SE - CR20 - refrelated","provider":"SpringBackendServiceProvider","tags":[],"systemTags":["RESERVED_DOCUMENT","published-as-datasource","services-editor"],"name":"SE - CR20 - refrelated","type":"services-editor","saved":true,"id":"1e9b5948-a8d4-2597-e8b8-51b624e6e26e","previewId":null,"content":{"definition":{"id":"1e9b5948-a8d4-2597-e8b8-51b624e6e26e","title":"SE - CR20 - refrelated","useBaseUrl":true,"publishAsDatasource":true,"serverSideDatasource":false,"dataEntryEnabled":false,"downloadEnabled":false,"expectedResultType":"Table","validated":true,"mandatoryParameters":[],"skipOnEmptyQueryString":false,"includeRawData":false,"emptyParametersToEmptyString":false,"schema":[{"name":"value","type":"string","value":"EMPTY!!"}],"selectCall":{"method":"Get","enabled":true,"serverSide":true,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{"datasource":{},"parameter":{},"systemParameter":{},"custom":{"result":{"fields":[null]}}},"expectedResult":null,"syntax":"standard","code":"x=toArray(custom('result'));\n//console.log(x[1])\nvar toret=[]\nif(x?.length>0)\n  if(x[0]?.value)\n    x.forEach(\n                function addme(element){  \n                     console.log(element)\n                     obj={value: element} \n                     toret.push(obj)\n                 }\n             );\n\n\ndefret=[{value:\"EMPTY!!\"}]\n  if(!x[0]?.value)\n  toret=defret\n    \nreturn toret;\n\n//console.log(x)\n//x.forEach(element => console.log(element));"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{"datasource":{},"parameter":{"dtaIntendedSettlFrom":{"id":"fd2024ad-dfd5-606b-d412-768ccb842661"},"dtaIntendedSettlTo":{"id":"5017755b-782f-f757-2321-67518e44281b"}},"systemParameter":{"today":{"id":"5157e400-8a9a-4e73-01d0-000000070da1"}},"custom":{}},"expectedResult":null,"syntax":"web-template","code":"foundation/rs/forecast/managefield/refexternal?<%=(parameter('dtaIntendedSettlFrom') && format(parameter('dtaIntendedSettlFrom'), 'yyyy-MM-dd') !== '1970-01-01') ?'dtaIntendedSettlFrom='+format(parameter('dtaIntendedSettlFrom'),'yyyy-MM-dd'):''%><%=(parameter('dtaIntendedSettlTo') && format(parameter('dtaIntendedSettlTo'), 'yyyy-MM-dd') !== '1970-01-01') ?'&dtaIntendedSettlTo='+format(parameter('dtaIntendedSettlTo'),'yyyy-MM-dd'):'&dtaIntendedSettlTo='+format(systemParameter('today'),'yyyy-MM-dd')%>"},"type":"Select"},"insertCall":{"method":"Put","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Insert"},"updateCall":{"method":"Post","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Update"},"deleteCall":{"method":"Delete","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Delete"},"createCall":{"method":"Get","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Create"},"serverSideOptions":{"id":"8587739a-bf57-826d-8766-3046a874876e","columns":[],"rows":[],"originalRows":[],"dataEntryRunTypes":[],"datasourceType":"Standard","autoRefreshEnabled":false,"autoRefreshSystem":false,"autoRefreshTime":60,"refreshOnLoad":false,"remoteSort":"","page":1,"isBusy":false,"isFiltered":false,"isServerSide":false,"hasError":false,"splitItems":[],"rowCount":100,"pageSize":10,"tags":[],"parameters":[]},"pageExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"pageSizeExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"recordCountExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"sortingExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"downloadExp":{"schema":{},"expectedResult":null,"syntax":"web-template"},"resultTypes":"Table","baseUrlId":"Aquarius Services"},"parameters":[{"id":"5017755b-782f-f757-2321-67518e44281b","name":"dtaIntendedSettlTo","description":"","systemType":"","defaultValue":"1970-01-01T00:00:00.000Z","lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"date","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[],"value":"2021-09-08T22:00:00.000Z"},{"id":"fd2024ad-dfd5-606b-d412-768ccb842661","name":"dtaIntendedSettlFrom","description":"","systemType":"","defaultValue":"1970-01-01T00:00:00.000Z","lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":260,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"date","placeholder":"","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"recursiveSelection":false,"bindings":[],"columns":[]},"tags":[],"rules":[],"value":"2021-09-14T22:00:00.000Z"}]}}