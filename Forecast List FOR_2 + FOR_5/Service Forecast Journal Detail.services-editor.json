{"createdAt":"2021-04-28T15:30:17.950","modifiedAt":"2021-08-05T10:22:04.713","createdBy":"TAS","modifiedBy":"TAS","title":"Service Forecast Journal Detail","provider":"SpringBackendServiceProvider","tags":["Raven service"],"systemTags":["services-editor","published-as-datasource","RESERVED_DOCUMENT"],"name":"Service Forecast Journal Detail","type":"services-editor","saved":true,"id":"1a9c1044-2684-4d4e-8d64-9b3547b3438a","previewId":null,"content":{"definition":{"id":"1a9c1044-2684-4d4e-8d64-9b3547b3438a","title":"Service Forecast Journal Detail","useBaseUrl":true,"publishAsDatasource":true,"serverSideDatasource":false,"dataEntryEnabled":false,"downloadEnabled":false,"expectedResultType":"Table","validated":false,"mandatoryParameters":[],"skipOnEmptyQueryString":false,"includeRawData":false,"emptyParametersToEmptyString":false,"schema":[{"name":"indRecurring","type":"string","value":"N"},{"name":"subCategory","type":"string","value":null},{"name":"descServiceExt","type":"string","value":null},{"name":"dtaEffectiveSettlement","type":"string","value":null},{"name":"forecastAggregationMethod","type":"string","value":"AGGREGATED"},{"name":"beneficiaryCustomer","type":"string","value":"Counterpart Customer"},{"name":"customCampoUtente10","type":"string","value":"NDG Cliente"},{"name":"codMessageType","type":"string","value":null},{"name":"customCampoUtente12","type":"string","value":"BIC LE Originario"},{"name":"forecastPaymentMappingCnt","type":"string","value":null},{"name":"customCampoUtente11","type":"string","value":"Descrizione Cliente"},{"name":"codOrderingInstitution","type":"string","value":null},{"name":"descUnit","type":"string","value":"Organization Unit"},{"name":"refExternal","type":"string","value":null},{"name":"id","type":"number","value":10000502},{"name":"settlementCycle","type":"string","value":"sdffds"},{"name":"customCampoUtente14","type":"string","value":"Tipo Operzione"},{"name":"customCampoUtente13","type":"string","value":"Account LE Originario"},{"name":"customCampoUtente16","type":"string","value":null},{"name":"customCampoUtente15","type":"string","value":null},{"name":"settlCycle","type":"string","value":null},{"name":"timeCreation","type":"string","value":"00:00:00"},{"name":"codIntOperation","type":"string","value":null},{"name":"codCounterpartClient","type":"string","value":"Counterpart Client"},{"name":"codReceiver","type":"string","value":null},{"name":"typeForecast","type":"string","value":"LT"},{"name":"descDepartment","type":"string","value":"Department"},{"name":"codAccountRel","type":"string","value":null},{"name":"campoUtente1","type":"string","value":"Custom Data"},{"name":"toBeSettledAmount","type":"number","value":1500},{"name":"dtaCreation","type":"string","value":"2019-07-29 00:00:00"},{"name":"categoryStatus","type":"string","value":null},{"name":"tmsUpdate","type":"string","value":"2019-07-29 15:16:40"},{"name":"settlementSystem","type":"string","value":"T2"},{"name":"forecastStatus","type":"string","value":"PREADVICE"},{"name":"idCashAccount","type":"number","value":987},{"name":"customTypeOperation","type":"string","value":null},{"name":"otherReference3","type":"string","value":"                              BNLIIT29.07.20190030"},{"name":"dtaRecurringTo","type":"string","value":"2021-07-29 00:00:00"},{"name":"indMatching","type":"string","value":"N"},{"name":"indFail","type":"string","value":"N"},{"name":"idAncillarySystem","type":"string","value":null},{"name":"currency","type":"string","value":"EUR"},{"name":"codBeneficiaryInstitution","type":"string","value":null},{"name":"nostroAccountType","type":"string","value":null},{"name":"otherReference2","type":"string","value":null},{"name":"otherReference1","type":"string","value":null},{"name":"dtaIntendedSettlement","type":"string","value":"2019-07-29 00:00:00"},{"name":"forecastVersion","type":"number","value":2292},{"name":"origSettledAmount","type":"number","value":1500},{"name":"paymentReference","type":"string","value":null},{"name":"descBranch","type":"string","value":"Branch"},{"name":"refForecast","type":"string","value":null},{"name":"codIsin","type":"string","value":null},{"name":"reconciliationStatus","type":"string","value":"NO"},{"name":"paymentForecastMappingCnt","type":"string","value":null},{"name":"indUpdateType","type":"string","value":"I"},{"name":"descCustomerIban","type":"string","value":"IBAN Customer"},{"name":"descBranchCounter","type":"string","value":"Branch Counter"},{"name":"codUser","type":"string","value":"DJ1BUCCN"},{"name":"notes","type":"string","value":"PREVISIONALE GEC"},{"name":"source","type":"string","value":"Application"},{"name":"codInternal","type":"string","value":"FO2019072903568159"},{"name":"codCounterpart","type":"string","value":"Counterpart"},{"name":"indManualUpdate","type":"string","value":"Y"},{"name":"codService","type":"string","value":"CORR"},{"name":"origForeStatus","type":"string","value":"PREADVICE"},{"name":"clientPartyId","type":"string","value":null},{"name":"totSettledAmount","type":"string","value":null},{"name":"codSender","type":"string","value":null},{"name":"codBicLe","type":"string","value":"BITAITRRXXX"},{"name":"systemAccountCode","type":"string","value":"ITBNLIITR0XXXPM"},{"name":"kind","type":"string","value":"forecastresource"},{"name":"codCountry","type":"string","value":"IT"},{"name":"codIntermediary","type":"string","value":null},{"name":"cashAccountRef","type":"string","value":"ITBNLIITR0XXXPM"},{"name":"indDebitCredit","type":"string","value":"D"},{"name":"securityAccount","type":"string","value":null},{"name":"cutOffTime","type":"number","value":233000},{"name":"tmpReporting","type":"string","value":"2021-07-28 18:30:00"},{"name":"ordinaryCustomer","type":"string","value":"Customer on Behalf"},{"name":"refRelated","type":"string","value":"Related Cash Account"},{"name":"forecastMethod","type":"string","value":null},{"name":"idCorporateActionEventi","type":"string","value":null},{"name":"tmsMsgCreation","type":"string","value":"2019-07-29 15:16:37"},{"name":"description","type":"string","value":null},{"name":"boReference","type":"string","value":"90729151637"},{"name":"originalIsd","type":"string","value":"2019-07-29 00:00:00"},{"name":"typeCounterpart","type":"string","value":null},{"name":"owner","type":"string","value":"TASIITR0XXX"},{"name":"dtaRecurringFrom","type":"string","value":"2021-07-26 00:00:00"},{"name":"codBicParty","type":"string","value":"BNLIITR0XXX"},{"name":"codIntCategory","type":"string","value":"AN1717300000812"},{"name":"codIntSubCategory","type":"string","value":null},{"name":"customCampoUtente01","type":"string","value":"Gestionale 1"},{"name":"codAccountLe","type":"string","value":"ITBNLIITR0XXXPM"},{"name":"customCampoUtente07","type":"string","value":"Gestionale 7"},{"name":"customCampoUtente06","type":"string","value":"Gestionale 6"},{"name":"customCampoUtente09","type":"string","value":"Categoria"},{"name":"customCampoUtente08","type":"string","value":"Gestionale 8"},{"name":"subtypeAccount","type":"string","value":"RTGS"},{"name":"category","type":"string","value":"Girofondo (GEC)"},{"name":"customCampoUtente03","type":"string","value":"Gestionale 3"},{"name":"user","type":"string","value":null},{"name":"customCampoUtente02","type":"string","value":"Gestionale 2"},{"name":"customCampoUtente05","type":"string","value":"Gestionale 5"},{"name":"customCampoUtente04","type":"string","value":"Gestionale 4"},{"name":"debCredTranslation","type":"string","value":"Credit"},{"name":"reconcTranslated","type":"string","value":"No"}],"selectCall":{"method":"Get","enabled":true,"serverSide":true,"responseType":"json","serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{"datasource":{},"parameter":{},"systemParameter":{},"custom":{"result":{"fields":[null]}}},"expectedResult":null,"syntax":"standard","code":"var result = toArray(custom('result'));\nvar debCredTransl = '';\nvar reconcTransl = '';\n\nreturn result.map(function(i) {\n  var origDebitCredit = i.indDebitCredit;\n  var origReconc = i.reconciliationStatus;\n  \n  if(i.tmpReporting) {\n  \tvar a = i.tmpReporting.split(' ')\n\n  \ti.splittedTime = a[1].replaceAll(':', '')\n  }\n  \n  switch(origDebitCredit) {\n    case 'D': {\n      debCredTransl = 'Debit';\n      break;\n    }\n    case 'A': {\n      debCredTransl = 'Credit';\n      break;\n    }\n  }\n  \n  i.debCredTranslation = debCredTransl;\n  \n  switch(origReconc) {\n    case 'COMPLETED': {\n      reconcTransl = 'Completed';\n      break;\n    }\n    case 'NO': {\n      reconcTransl = 'No';\n      break;\n    }\n    case 'PARTIAL': {\n      reconcTransl = 'Partial';\n      break;\n    }\n  }\n  \n  i.reconcTranslated = reconcTransl;\n    \n  return i;  \n});"},"headers":[],"address":{"schema":{"datasource":{},"parameter":{"id":{"id":"10eda9f0-6568-61c8-eb39-3fea664f7372"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"web-template","code":"foundation/rs/forecast/<%= parameter('id') %>"},"type":"Select","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"insertCall":{"method":"Put","enabled":false,"serverSide":false,"responseType":"json","serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Insert","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"updateCall":{"method":"Post","enabled":false,"serverSide":false,"responseType":"json","serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Update","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"deleteCall":{"method":"Delete","enabled":false,"serverSide":false,"responseType":"json","serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Delete","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"createCall":{"method":"Get","enabled":false,"serverSide":false,"responseType":"json","serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Create","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"serverSideOptions":{"id":"2fb053da-def3-7c1e-ea5d-b8a62bd8c834","columns":[],"rows":[],"originalRows":[],"dataEntryRunTypes":[],"datasourceType":"Standard","autoRefreshEnabled":false,"autoRefreshSystem":false,"autoRefreshTime":60,"refreshOnLoad":false,"remoteSort":"","page":1,"isBusy":false,"isFiltered":false,"isServerSide":false,"hasError":false,"splitItems":[],"rowCount":100,"pageSize":10,"parameters":[],"tags":[]},"pageExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"pageSizeExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"recordCountExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"sortingExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"downloadExp":{"schema":{},"expectedResult":null,"syntax":"web-template"},"baseUrlId":"Aquarius Services","resultTypes":"Table"},"parameters":[{"id":"10eda9f0-6568-61c8-eb39-3fea664f7372","name":"id","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"value":10002679,"tags":[]}]}}