{"createdAt":"2021-05-06T15:55:29.559","modifiedAt":"2021-10-21T17:50:12.685","createdBy":"TAS","modifiedBy":"TAS","title":"Forecast Journal Service Edit 2","provider":"SpringBackendServiceProvider","tags":[],"systemTags":["RESERVED_DOCUMENT","published-as-datasource","services-editor"],"name":"Forecast Journal Service Edit 2","type":"services-editor","saved":true,"id":"8a55456f-7553-4166-aaa1-880cdcde48e4","previewId":null,"content":{"definition":{"id":"8a55456f-7553-4166-aaa1-880cdcde48e4","title":"Forecast Journal Service Edit 2","useBaseUrl":true,"publishAsDatasource":true,"serverSideDatasource":false,"dataEntryEnabled":false,"downloadEnabled":false,"expectedResultType":"Table","validated":true,"mandatoryParameters":[],"skipOnEmptyQueryString":false,"includeRawData":false,"emptyParametersToEmptyString":false,"schema":[{"name":"indRecurring","type":"string","value":"N"},{"name":"subCategory","type":"string","value":null},{"name":"descServiceExt","type":"string","value":null},{"name":"dtaEffectiveSettlement","type":"string","value":null},{"name":"forecastAggregationMethod","type":"string","value":"SINGLE"},{"name":"beneficiaryCustomer","type":"string","value":"CtpCustomerUP"},{"name":"customCampoUtente10","type":"string","value":"NDGClienteUP"},{"name":"codMessageType","type":"string","value":"MT202"},{"name":"customCampoUtente12","type":"string","value":"BICLEOrigUP"},{"name":"forecastPaymentMappingCnt","type":"number","value":null},{"name":"customCampoUtente11","type":"string","value":"DescclienteUP"},{"name":"codOrderingInstitution","type":"string","value":null},{"name":"descUnit","type":"string","value":"OrganUnit"},{"name":"refExternal","type":"string","value":"ExtRefUP"},{"name":"id","type":"number","value":10003151},{"name":"settlementCycle","type":"string","value":"SettlCycle"},{"name":"customCampoUtente14","type":"string","value":"Banca - Cash CollateralUP"},{"name":"customCampoUtente13","type":"string","value":"AccLEOrigUP"},{"name":"customCampoUtente16","type":"string","value":null},{"name":"customCampoUtente15","type":"string","value":null},{"name":"settlCycle","type":"string","value":null},{"name":"timeCreation","type":"string","value":"00:00:00"},{"name":"codIntOperation","type":"string","value":null},{"name":"codCounterpartClient","type":"string","value":"CtpClientUP"},{"name":"codReceiver","type":"string","value":null},{"name":"typeForecast","type":"string","value":"LT"},{"name":"descDepartment","type":"string","value":"Department"},{"name":"codAccountRel","type":"string","value":"RelCashAcc"},{"name":"campoUtente1","type":"string","value":"CustomDataUP"},{"name":"toBeSettledAmount","type":"number","value":1112},{"name":"dtaCreation","type":"string","value":"2021-09-29 00:00:00"},{"name":"categoryStatus","type":"string","value":"OPEN"},{"name":"tmsUpdate","type":"string","value":"2021-10-19 15:41:05"},{"name":"settlementSystem","type":"string","value":"CORR"},{"name":"forecastStatus","type":"string","value":"FORECAST"},{"name":"idCashAccount","type":"number","value":1384},{"name":"customTypeOperation","type":"string","value":null},{"name":"otherReference3","type":"string","value":"AdditRef3UP"},{"name":"dtaRecurringTo","type":"string","value":"2021-10-06 00:00:00"},{"name":"indMatching","type":"string","value":"N"},{"name":"indFail","type":"string","value":"N"},{"name":"idAncillarySystem","type":"string","value":null},{"name":"currency","type":"string","value":"GBP"},{"name":"codBeneficiaryInstitution","type":"string","value":null},{"name":"nostroAccountType","type":"string","value":"DEPOSITORY"},{"name":"otherReference2","type":"string","value":"AdditRef2UP"},{"name":"otherReference1","type":"string","value":"AdditRef1UP"},{"name":"dtaIntendedSettlement","type":"string","value":"2021-10-04 00:00:00"},{"name":"forecastVersion","type":"string","value":2891},{"name":"origSettledAmount","type":"number","value":10000},{"name":"paymentReference","type":"string","value":null},{"name":"descBranch","type":"string","value":"Branch"},{"name":"refForecast","type":"string","value":null},{"name":"codIsin","type":"string","value":"IsinUP"},{"name":"reconciliationStatus","type":"string","value":"NO"},{"name":"paymentForecastMappingCnt","type":"number","value":null},{"name":"indUpdateType","type":"string","value":"S"},{"name":"descCustomerIban","type":"string","value":"IBANCustUP"},{"name":"descBranchCounter","type":"string","value":"BranchCounter"},{"name":"codUser","type":"string","value":"TAS"},{"name":"notes","type":"string","value":"DescriptionUP"},{"name":"source","type":"string","value":"Manual"},{"name":"codInternal","type":"string","value":"FO2021092903619812"},{"name":"codCounterpart","type":"string","value":"CounterpartUP"},{"name":"qtaOrigSettlement","type":"string","value":7700},{"name":"indManualUpdate","type":"string","value":"Y"},{"name":"codService","type":"string","value":"CORR"},{"name":"origForeStatus","type":"string","value":"FORECAST"},{"name":"clientPartyId","type":"string","value":"ClientOnBehalfUP"},{"name":"totSettledAmount","type":"string","value":null},{"name":"codSender","type":"string","value":null},{"name":"codBicLe","type":"string","value":"PARBFRPP"},{"name":"systemAccountCode","type":"string","value":"000010000063942DGBP"},{"name":"kind","type":"string","value":"forecastresource"},{"name":"codCountry","type":"string","value":"FR"},{"name":"codIntermediary","type":"string","value":null},{"name":"cashAccountRef","type":"string","value":"000010000063942DGBP"},{"name":"indDebitCredit","type":"string","value":"A"},{"name":"securityAccount","type":"string","value":null},{"name":"cutOffTime","type":"string","value":3000},{"name":"tmpReporting","type":"string","value":"2021-10-05 03:30:00"},{"name":"dtaEffectiveSettl","type":"string","value":null},{"name":"ordinaryCustomer","type":"string","value":"CustOnBehalfUP"},{"name":"refRelated","type":"string","value":"RelForecastRefUP"},{"name":"forecastMethod","type":"string","value":null},{"name":"idCorporateActionEventi","type":"string","value":null},{"name":"tmsMsgCreation","type":"string","value":null},{"name":"description","type":"string","value":null},{"name":"dtaIntendedSettl","type":"string","value":"2021-10-04 00:00:00"},{"name":"boReference","type":"string","value":"IntRef"},{"name":"originalIsd","type":"string","value":"2021-10-04 00:00:00"},{"name":"typeCounterpart","type":"string","value":null},{"name":"owner","type":"string","value":"WWWBDEFF"},{"name":"dtaRecurringFrom","type":"string","value":"2021-10-04 00:00:00"},{"name":"codBicParty","type":"string","value":"WWWBDEFF"},{"name":"codIntCategory","type":"string","value":"AN2118813875990"},{"name":"codIntSubCategory","type":"string","value":null},{"name":"customCampoUtente01","type":"string","value":"Gestionale1UP"},{"name":"codAccountLe","type":"string","value":null},{"name":"customCampoUtente07","type":"string","value":"Gest7UP"},{"name":"customCampoUtente06","type":"string","value":"Gest6UP"},{"name":"customCampoUtente09","type":"string","value":"CategoriaUP"},{"name":"customCampoUtente08","type":"string","value":"Gest8UP"},{"name":"subtypeAccount","type":"string","value":"NOSTRO"},{"name":"category","type":"string","value":"BANCA"},{"name":"customCampoUtente03","type":"string","value":"Gest3UP"},{"name":"user","type":"string","value":null},{"name":"customCampoUtente02","type":"string","value":"Gest2UP"},{"name":"customCampoUtente05","type":"string","value":"Gest5UP"},{"name":"customCampoUtente04","type":"string","value":"Gest4UP"},{"name":"splittedTime","type":"string","value":33000}],"selectCall":{"method":"Get","enabled":true,"serverSide":true,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{"datasource":{},"parameter":{},"systemParameter":{},"custom":{"result":{"fields":[null]}}},"expectedResult":null,"syntax":"standard","code":"var result = custom('result');\nif(result.tmpReporting) {\n  var a = result.tmpReporting.split(' ')\n  var tmp = a[1].replaceAll(':', '')\n  if(tmp.startsWith('0')) {\n  \tresult.splittedTime = parseInt(tmp.slice(1,tmp.length))\n  }\n  else result.splittedTime = parseInt(tmp)\n}\n\nvar arr = toArray(result);\n\narr.map(function(i) {\n  if(i.codAccountLe !== null && i.idCashAccount !== null) {\n    i.codAccountLe = null;\n  }\n  return i;\n});\n\nreturn arr;"},"headers":[],"address":{"schema":{"datasource":{},"parameter":{"id":{"id":"c4cbda2c-7e88-4db6-854c-961383dba33e"}},"systemParameter":{},"custom":{}},"expectedResult":null,"syntax":"web-template","code":"foundation/rs/forecast/<%= parameter('id') %>"},"type":"Select","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"insertCall":{"method":"Put","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Insert","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"updateCall":{"method":"Post","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Update","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"deleteCall":{"method":"Delete","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Delete","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"createCall":{"method":"Get","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Create","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"serverSideOptions":{"id":"802dc87a-624b-56bc-91fb-6598e681a540","columns":[],"rows":[],"originalRows":[],"dataEntryRunTypes":[],"datasourceType":"Standard","autoRefreshEnabled":false,"autoRefreshSystem":false,"autoRefreshTime":60,"refreshOnLoad":false,"remoteSort":"","page":1,"isBusy":false,"isFiltered":false,"isServerSide":false,"hasError":false,"splitItems":[],"rowCount":100,"pageSize":10,"tags":[],"parameters":[]},"pageExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"pageSizeExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"recordCountExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"sortingExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"baseUrlId":"Aquarius Services","downloadExp":{"schema":{},"expectedResult":null,"syntax":"web-template"},"resultTypes":"Table"},"parameters":[{"id":"c4cbda2c-7e88-4db6-854c-961383dba33e","name":"id","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"tags":[],"value":10003151,"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}}]}}