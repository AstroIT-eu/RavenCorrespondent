{"createdAt":"2021-04-28T15:42:03.066","modifiedAt":"2021-10-20T15:22:56.688","createdBy":"TAS","modifiedBy":"TAS","title":"Forecast Journal Service History ","provider":"SpringBackendServiceProvider","tags":[],"systemTags":["published-as-datasource","RESERVED_DOCUMENT","services-editor"],"name":"Forecast Journal Service History ","type":"services-editor","saved":true,"id":"ade037b3-f80b-4529-8452-e9b86a43fb72","previewId":null,"content":{"definition":{"id":"ade037b3-f80b-4529-8452-e9b86a43fb72","title":"Forecast Journal Service History ","useBaseUrl":true,"publishAsDatasource":true,"serverSideDatasource":true,"dataEntryEnabled":false,"downloadEnabled":false,"expectedResultType":"Table","validated":true,"mandatoryParameters":[],"skipOnEmptyQueryString":false,"includeRawData":false,"emptyParametersToEmptyString":false,"schema":[{"name":"deliveringCashPartBic","type":"string","value":null},{"name":"indRecurring","type":"string","value":"N"},{"name":"totalAmountOut","type":"string","value":null},{"name":"notes","type":"string","value":"PREVISIONALE GEC"},{"name":"idOrigPayment","type":"string","value":null},{"name":"typeSecMov","type":"string","value":null},{"name":"codInternal","type":"string","value":"FO2019072903568159"},{"name":"source","type":"string","value":"Application"},{"name":"forecastAggregationMethod","type":"string","value":"AGGREGATED"},{"name":"beneficiaryCustomer","type":"string","value":null},{"name":"idCurrentAccount","type":"object","value":{"indMasterAccount":null,"customField1":null,"indReservation":"E","customField2":null,"customField3":null,"dtaStart":"2017-05-06 00:00:00","indHoldRelease":null,"codInternal":"AN1710000130614","floorAmount":null,"targetBalance":null,"indPartialDel":null,"indIssuerAccount":null,"indNegativePositions":null,"indZeroBalance":null,"indAllCollateral":null,"codAccountService":"ITBNLIITR0XXXPM","id":987,"clientOfPartyBic":null,"indSodResetBalance":"N","ceilingAmountTlm":null,"internalType":null,"shortDescription":null,"typeInternalAccount":null,"indLtBalanceUpdate":"EX","indEodTransfer":null,"indSiBalanceUpdate":"EX","typeAccount":"RTGS","accountOwnerBic":null,"indStandByPosition":null,"accountCategory":"C","description":"conto RTGS ITBNLIITR0XXXPM","indCaBalanceUpdate":"EX","indReceivingCollateral":null,"codInstitute":"08094","minimumBalance":null,"indPartialSettl":null,"floorAmountTlm":null,"currency":"EUR","indBlocking":null,"ceilingAmount":null,"typeCode":null,"codReason":null,"indEarmarking":null,"indReinbursement":null,"typeNostroAccount":null,"codAccountLe":"ITBNLIITR0XXXPM","typeInstruction":null,"subtypeAccount":"RTGS","dtaEnd":null,"codUser":"TAS","ownerParticipant":null}},{"name":"indTbsDebitCredit","type":"string","value":"D"},{"name":"codMessageType","type":"string","value":null},{"name":"indManualUpdate","type":"string","value":"N"},{"name":"codOrderingInstitution","type":"string","value":null},{"name":"refExternal","type":"string","value":null},{"name":"dtaIntenSettlTotAmountin","type":"string","value":null},{"name":"codService","type":"string","value":"T2"},{"name":"codAccountDca","type":"object","value":{"indMasterAccount":null,"customField1":null,"indReservation":"E","customField2":null,"customField3":null,"dtaStart":"2017-05-06 00:00:00","indHoldRelease":null,"codInternal":"AN1710000130614","floorAmount":null,"targetBalance":null,"indPartialDel":null,"indIssuerAccount":null,"indNegativePositions":null,"indZeroBalance":null,"indAllCollateral":null,"codAccountService":"ITBNLIITR0XXXPM","id":987,"clientOfPartyBic":null,"indSodResetBalance":"N","ceilingAmountTlm":null,"internalType":null,"shortDescription":null,"typeInternalAccount":null,"indLtBalanceUpdate":"EX","indEodTransfer":null,"indSiBalanceUpdate":"EX","typeAccount":"RTGS","accountOwnerBic":null,"indStandByPosition":null,"accountCategory":"C","description":"conto RTGS ITBNLIITR0XXXPM","indCaBalanceUpdate":"EX","indReceivingCollateral":null,"codInstitute":"08094","minimumBalance":null,"indPartialSettl":null,"floorAmountTlm":null,"currency":"EUR","indBlocking":null,"ceilingAmount":null,"typeCode":null,"codReason":null,"indEarmarking":null,"indReinbursement":null,"typeNostroAccount":null,"codAccountLe":"ITBNLIITR0XXXPM","typeInstruction":null,"subtypeAccount":"RTGS","dtaEnd":null,"codUser":"TAS","ownerParticipant":null}},{"name":"id","type":"number","value":583},{"name":"dataIntendedSettl","type":"date","value":"2019-07-29 00:00:00"},{"name":"receivingCashPartBic","type":"string","value":null},{"name":"clientPartyId","type":"string","value":null},{"name":"totSettledAmount","type":"string","value":null},{"name":"settlCycle","type":"string","value":null},{"name":"codSender","type":"string","value":null},{"name":"codBicLe","type":"string","value":"BITAITRRXXX"},{"name":"codIntOperation","type":"string","value":null},{"name":"kind","type":"string","value":"forecastchangeresource#list"},{"name":"codIntermediary","type":"string","value":null},{"name":"campoUtente8","type":"string","value":null},{"name":"campoUtente7","type":"string","value":null},{"name":"indDebitCredit","type":"string","value":"D"},{"name":"codReceiver","type":"string","value":null},{"name":"settledAmount","type":"string","value":null},{"name":"cutOffTime","type":"string","value":null},{"name":"dtaIntenSettlTotAmountOut","type":"string","value":null},{"name":"repoType","type":"string","value":null},{"name":"campoUtente2","type":"string","value":null},{"name":"campoUtente1","type":"string","value":null},{"name":"toBeSettledAmount","type":"number","value":1500},{"name":"campoUtente4","type":"string","value":null},{"name":"campoUtente3","type":"string","value":null},{"name":"dtaCreation","type":"date","value":"2019-07-29 00:00:00"},{"name":"campoUtente6","type":"string","value":null},{"name":"categoryStatus","type":"string","value":null},{"name":"dtaEffectiveSettl","type":"string","value":null},{"name":"tmsUpdate","type":"string","value":"2019-07-29 15:16:40"},{"name":"campoUtente5","type":"string","value":null},{"name":"codRtgsAccount","type":"string","value":null},{"name":"ordinaryCustomer","type":"string","value":null},{"name":"refRelated","type":"string","value":null},{"name":"forecastMethod","type":"string","value":null},{"name":"idCorporateActionEventi","type":"string","value":null},{"name":"codCorpOperation","type":"string","value":null},{"name":"forecastStatus","type":"string","value":"PREADVICE"},{"name":"boReference","type":"string","value":"90729151637"},{"name":"dtaRecurringTo","type":"string","value":null},{"name":"tmsInsert","type":"date","value":"2019-07-29 15:16:40"},{"name":"indMatching","type":"string","value":"N"},{"name":"indFail","type":"string","value":"N"},{"name":"currency","type":"string","value":"EUR"},{"name":"dtaForecast","type":"date","value":"2019-07-29 00:00:00"},{"name":"codBeneficiaryInstitution","type":"string","value":null},{"name":"paymentDetails","type":"string","value":null},{"name":"originalIsd","type":"string","value":"2019-07-29 00:00:00"},{"name":"changeMotivation","type":"string","value":"INCOMING_REQUEST"},{"name":"amount","type":"string","value":null},{"name":"origSettledAmount","type":"number","value":1500},{"name":"typeSecTrans","type":"string","value":null},{"name":"dtaRecurringFrom","type":"string","value":null},{"name":"codBicParty","type":"string","value":"BNLIITR0XXX"},{"name":"codIntCategory","type":"object","value":{"basysType":null,"indTemporary":null,"description":"Girofondo (GEC)","codInternal":"AN1717300000812","shortDescription":null,"indDefault":"N","tmsCutoff":null,"indGuiPaymentSelectable":null,"categoryType":"PYMT","codInstitute":"08094","indStandbyPosition":"N","service":{"serviceType":"CORR","note":null,"isEu":null,"codiceServizioEste":"COV","codiceServizioK":"CORR","codiceDrg":null,"micCode":null,"nazione":null,"percScostStatUp":null,"id":795,"percScostOrdUp":null,"codBic":"TRGTXEPMT2S","percScostDynUp":null,"divisa":null,"percScostOrdDown":null,"descLabel":"CORR","indDefault":null,"percScostDynDown":null,"telefeedId":null,"indHasAncillary":null,"statoServizio":"ATT","descrizione":"CORRESPONDENT BANKING","telefeedName":null,"indAquModuleOn":"ON","tipoSeduta":null,"serviceTypeExt":"CORR","percScostStatDown":null},"jsonFieldValue":null,"codCategory":"0030","tmsInsert":"2017-06-22 17:26:43","tmsUpdate":"2018-04-04 12:34:48","clientLimitCustom":null,"indFail":"N","indForecast":"Y","id":1015,"ancillary":null,"codUser":"TAS","tmsDelete":null}},{"name":"refForecast","type":"string","value":"GEC_U90729151637"},{"name":"codIntCutoffRule","type":"string","value":null},{"name":"codIsin","type":"string","value":null},{"name":"codIntSubCategory","type":"string","value":null},{"name":"reconciliationStatus","type":"string","value":"NO"},{"name":"indUpdateType","type":"string","value":"I"},{"name":"codAccountSac","type":"string","value":null},{"name":"totalAmountIn","type":"string","value":null},{"name":"descCustomerIban","type":"string","value":null},{"name":"user","type":"string","value":null},{"name":"codUser","type":"string","value":"DJ1BUCCN"},{"name":"codAccountService","type":"string","value":"ITBNLIITR0XXXPM"},{"name":"descriptionCurrent","type":"string","value":"BNP Paris w/SEB -10000047446M- EUR"},{"name":"codSubCategory","type":"string","value":"703"},{"name":"descriptionSubCategory","type":"string","value":"Incassi Commerciali"},{"name":"shortDescriptionSubCategory","type":"string","value":null},{"name":"codCategory","type":"string","value":"0030"},{"name":"descriptionCategory","type":"string","value":"Girofondo ROC "},{"name":"shortDescriptionCategory","type":"string","value":null}],"selectCall":{"method":"Get","enabled":true,"serverSide":true,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{"datasource":{},"parameter":{},"systemParameter":{},"custom":{"result":{"fields":[null]}}},"expectedResult":null,"syntax":"standard","code":"myArrey = custom('result').items;\nmyArrey.map(function(i){\n  if(i.idCurrentAccount !=null){\n    i.codAccountService = i.idCurrentAccount.codAccountService\n    i.descriptionCurrent = i.idCurrentAccount.description  \n  }\n  if (i.codIntSubCategory !=null){\n    i.codSubCategory = i.codIntSubCategory.codSubCategory\n    i.descriptionSubCategory = i.codIntSubCategory.description \n    i.shortDescriptionSubCategory = i.codIntSubCategory.shortDescription \n  }\n  if (i.codIntCategory !=null){\n    i.codCategory = i.codIntCategory.codCategory\n    i.descriptionCategory = i.codIntCategory.description\n    i.shortDescriptionCategory = i.codIntCategory.shortDescription\n  }\nreturn i\n})\nreturn myArrey"},"headers":[],"address":{"schema":{"datasource":{},"parameter":{"take":{"id":"5eadb99d-2d7e-7be0-d4fd-d915a6854469"},"skip":{"id":"d952aed9-7187-db23-371d-5c037afeb911"},"guiSystem":{"id":"eda9a6c3-7dfa-a1a7-bf7d-dd3c62616d2c"},"forecast":{"id":"72c849d9-92d1-719d-1655-94b72e87857f"}},"systemParameter":{},"custom":{"page":{"fields":[null]},"pageSize":{"fields":[null]}}},"expectedResult":null,"syntax":"web-template","code":"foundation/rs/forecast/forecastchanges?take=<%= parameter('take') %>&page=<%= custom('page') %>&pageSize=<%= custom('pageSize') %>&skip=<%= parameter('skip') %>&guiSystem=<%= parameter('guiSystem') %>&forecast=<%= parameter('forecast') %>"},"type":"Select","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"insertCall":{"method":"Put","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Insert","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"updateCall":{"method":"Post","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Update","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"deleteCall":{"method":"Delete","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Delete","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"createCall":{"method":"Get","enabled":false,"serverSide":false,"serverSideUrlParametersEncoded":false,"serverSideUseCallerHeaders":false,"virtual":false,"responseType":"json","transformerOut":{"schema":{},"expectedResult":null,"syntax":"standard","code":"{}"},"transformerIn":{"schema":{},"expectedResult":null,"syntax":"standard","code":"custom('result');"},"headers":[],"address":{"schema":{},"expectedResult":null,"syntax":"web-template"},"type":"Create","errorBypass":{"schema":{},"expectedResult":null,"syntax":"standard"}},"serverSideOptions":{"id":"9aee2db8-d231-6ece-3984-22e81dc33eae","columns":[],"rows":[],"originalRows":[],"dataEntryRunTypes":[],"datasourceType":"Standard","autoRefreshEnabled":false,"autoRefreshSystem":false,"autoRefreshTime":60,"refreshOnLoad":false,"remoteSort":"","page":1,"isBusy":false,"isFiltered":false,"isServerSide":false,"hasError":false,"splitItems":[],"rowCount":100,"pageSize":10,"parameters":[],"tags":[]},"pageExp":{"schema":{"datasource":{},"parameter":{},"systemParameter":{},"custom":{"result":{"fields":[null]}}},"expectedResult":null,"syntax":"standard","code":"(custom('result')||{}).page||1;"},"pageSizeExp":{"schema":{"datasource":{},"parameter":{},"systemParameter":{},"custom":{"pageSize":{"fields":[null]}}},"expectedResult":null,"syntax":"standard","code":"custom('pageSize')"},"recordCountExp":{"schema":{"datasource":{},"parameter":{},"systemParameter":{},"custom":{"result":{"fields":[null]}}},"expectedResult":null,"syntax":"standard","code":"(custom('result')||{}).total||0;"},"sortingExp":{"schema":{},"expectedResult":null,"syntax":"standard"},"baseUrlId":"Aquarius Services","downloadExp":{"schema":{},"expectedResult":null,"syntax":"web-template"},"resultTypes":"Table"},"parameters":[{"id":"5eadb99d-2d7e-7be0-d4fd-d915a6854469","name":"take","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"tags":[],"value":10,"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}},{"id":"5ae41753-ee7b-c54d-1d17-3827fd71673b","name":"page","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"value":1,"tags":[],"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}},{"id":"433f7c33-32e5-3cf4-58e2-662d18e5e5ca","name":"pageSize","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"value":10,"tags":[],"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}},{"id":"d952aed9-7187-db23-371d-5c037afeb911","name":"skip","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"tags":[],"value":0,"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}},{"id":"eda9a6c3-7dfa-a1a7-bf7d-dd3c62616d2c","name":"guiSystem","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"string","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"tags":[],"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}},{"id":"72c849d9-92d1-719d-1655-94b72e87857f","name":"forecast","description":"","systemType":"","defaultValue":null,"lookupItems":[],"isHidden":false,"isMultiSelect":false,"isReadOnly":false,"isOptional":false,"popupWidth":300,"isSearchAllowed":false,"ravenParameterType":"normal","ravenDatatype":"number","lookup":{"mode":"standard","showSearchBox":true,"allowSort":true,"bindings":[],"columns":[]},"rules":[],"value":10003209,"tags":[],"expression":{"schema":{},"expectedResult":null,"syntax":"standard"}}]}}